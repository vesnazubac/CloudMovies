{"ast":null,"code":"import { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { LayoutModule } from 'src/app/layout/layout.module';\nimport { MatPaginator, MatPaginatorModule } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource, MatTableModule } from '@angular/material/table';\nimport { CommonModule } from '@angular/common';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatNativeDateModule } from '@angular/material/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/accommodation/accommodation.service\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/icon\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/table\";\nimport * as i7 from \"@angular/material/paginator\";\nfunction OwnersAccommodationsComponent_th_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \" Id \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OwnersAccommodationsComponent_td_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r14.id, \" \");\n  }\n}\nfunction OwnersAccommodationsComponent_th_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \" Accommodation Name\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OwnersAccommodationsComponent_td_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r15.name, \" \");\n  }\n}\nfunction OwnersAccommodationsComponent_th_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \" Owner username\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OwnersAccommodationsComponent_td_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r16.ownerId, \"\");\n  }\n}\nfunction OwnersAccommodationsComponent_th_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \"Type \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OwnersAccommodationsComponent_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r17.type, \" \");\n  }\n}\nfunction OwnersAccommodationsComponent_th_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \"Status \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OwnersAccommodationsComponent_td_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r18.status, \" \");\n  }\n}\nfunction OwnersAccommodationsComponent_th_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \" Actions \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OwnersAccommodationsComponent_td_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 16)(1, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function OwnersAccommodationsComponent_td_21_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r21);\n      const element_r19 = restoredCtx.$implicit;\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.openEditComponent(element_r19));\n    });\n    i0.ɵɵtext(2, \"Edit Data \");\n    i0.ɵɵelementStart(3, \"mat-icon\");\n    i0.ɵɵtext(4, \"edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function OwnersAccommodationsComponent_td_21_Template_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r21);\n      const element_r19 = restoredCtx.$implicit;\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.openReservationsComponent(element_r19));\n    });\n    i0.ɵɵtext(6, \"Reservations \");\n    i0.ɵɵelementStart(7, \"mat-icon\");\n    i0.ɵɵtext(8, \"event\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction OwnersAccommodationsComponent_tr_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 20);\n  }\n}\nfunction OwnersAccommodationsComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 21);\n  }\n}\nconst _c0 = function () {\n  return [5, 10, 20];\n};\nexport class OwnersAccommodationsComponent {\n  constructor(service, snackBar, router) {\n    this.service = service;\n    this.snackBar = snackBar;\n    this.router = router;\n    this.accessToken = localStorage.getItem('user');\n    this.helper = new JwtHelperService();\n    this.decodedToken = this.helper.decodeToken(this.accessToken);\n    this.ownerId = \"\";\n    // if (this.decodedToken) {\n    //   console.log(\"USERNAMEEE 899 \" , decodedToken.sub)\n    //   this.ownerId=decodedToken.sub;\n    //   }\n    this.dataSource = new MatTableDataSource([]);\n    this.displayedColumns = ['Id', 'Name', 'Owner', 'Type', 'Status', 'actions'];\n  }\n  ngOnInit() {\n    this.ownerId = this.decodedToken.sub;\n    this.service.getByOwnerId(this.ownerId).subscribe(response => {\n      if (Array.isArray(response)) {\n        const filteredList = response.filter(accommodation => accommodation.status === 'APPROVED');\n        this.dataSource = new MatTableDataSource(filteredList);\n      }\n      this.dataSource.paginator = this.paginator;\n      this.dataSource.sort = this.sort;\n    }, error => {\n      console.error(error);\n    });\n  }\n  openEditComponent(element) {\n    this.router.navigate(['/editAccommodation', element.id]);\n  }\n  openReservationsComponent(element) {\n    this.router.navigate(['/accommodationsReservations', element.id]);\n  }\n  static #_ = this.ɵfac = function OwnersAccommodationsComponent_Factory(t) {\n    return new (t || OwnersAccommodationsComponent)(i0.ɵɵdirectiveInject(i1.AccommodationService), i0.ɵɵdirectiveInject(i2.MatSnackBar), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OwnersAccommodationsComponent,\n    selectors: [[\"app-owners-accommodations\"]],\n    viewQuery: function OwnersAccommodationsComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 5);\n        i0.ɵɵviewQuery(MatSort, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n      }\n    },\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 25,\n    vars: 5,\n    consts: [[2, \"text-align\", \"center\", \"margin-top\", \"50px\"], [1, \"mat-elevation-z8\"], [\"mat-table\", \"\", \"matSort\", \"\", 3, \"dataSource\"], [\"matColumnDef\", \"Id\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"Name\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"Owner\"], [\"matColumnDef\", \"Type\"], [\"matColumnDef\", \"Status\"], [\"matColumnDef\", \"actions\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"showFirstLastButtons\", \"\", \"aria-label\", \"Select page of periodic elements\", 3, \"pageSizeOptions\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-cell\", \"\"], [\"mat-raised-button\", \"\", \"color\", \"accent\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 2, \"margin-left\", \"16px\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function OwnersAccommodationsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\", 0);\n        i0.ɵɵtext(1, \"My accommodations\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 1)(3, \"table\", 2);\n        i0.ɵɵelementContainerStart(4, 3);\n        i0.ɵɵtemplate(5, OwnersAccommodationsComponent_th_5_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(6, OwnersAccommodationsComponent_td_6_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(7, 6);\n        i0.ɵɵtemplate(8, OwnersAccommodationsComponent_th_8_Template, 2, 0, \"th\", 7);\n        i0.ɵɵtemplate(9, OwnersAccommodationsComponent_td_9_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(10, 8);\n        i0.ɵɵtemplate(11, OwnersAccommodationsComponent_th_11_Template, 2, 0, \"th\", 7);\n        i0.ɵɵtemplate(12, OwnersAccommodationsComponent_td_12_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(13, 9);\n        i0.ɵɵtemplate(14, OwnersAccommodationsComponent_th_14_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(15, OwnersAccommodationsComponent_td_15_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(16, 10);\n        i0.ɵɵtemplate(17, OwnersAccommodationsComponent_th_17_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(18, OwnersAccommodationsComponent_td_18_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(19, 11);\n        i0.ɵɵtemplate(20, OwnersAccommodationsComponent_th_20_Template, 2, 0, \"th\", 7);\n        i0.ɵɵtemplate(21, OwnersAccommodationsComponent_td_21_Template, 9, 0, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(22, OwnersAccommodationsComponent_tr_22_Template, 1, 0, \"tr\", 12);\n        i0.ɵɵtemplate(23, OwnersAccommodationsComponent_tr_23_Template, 1, 0, \"tr\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(24, \"mat-paginator\", 14);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n        i0.ɵɵadvance(19);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(4, _c0));\n      }\n    },\n    dependencies: [ReactiveFormsModule, MatFormFieldModule, MatNativeDateModule, MatInputModule, MatIconModule, i4.MatIcon, MatButtonModule, i5.MatButton, MatChipsModule, MatRadioModule, LayoutModule, MatTableModule, i6.MatTable, i6.MatHeaderCellDef, i6.MatHeaderRowDef, i6.MatColumnDef, i6.MatCellDef, i6.MatRowDef, i6.MatHeaderCell, i6.MatCell, i6.MatHeaderRow, i6.MatRow, MatPaginatorModule, i7.MatPaginator, CommonModule, MatDatepickerModule, MatSnackBarModule],\n    styles: [\"*[_ngcontent-%COMP%]{\\n    font-size: medium;\\n  }\\n  .register-header[_ngcontent-%COMP%] {\\n    color: #007bff; \\n    font-size: 24px;\\n    margin-bottom: 3%;\\n    margin-top: 5%;\\n  }\\n  .card-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-wrap: wrap; \\n    justify-content:first baseline;\\n    margin-bottom: 100px;\\n  }\\n  mat-form-field[_ngcontent-%COMP%] {\\n    flex: 1; \\n  }\\n  h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{\\n    color: #007bff; \\n  }\\n  .data-container[_ngcontent-%COMP%] {\\n    text-align: center;\\n    max-width: 60%;\\n    margin: 20px auto;\\n    padding: 20px;\\n    border: 1px solid #ccc;\\n    border-radius: 8px;\\n  }\\n  .date-picker-container[_ngcontent-%COMP%] {\\n    text-align: center;\\n    width: 70%;\\n    margin: 0 auto;  \\n    display: flex;\\n    justify-content: space-between;\\n    align-items: flex-end;\\n    gap: 1%; \\n    margin-bottom: 2%;\\n  }\\n\\n  .mat-elevation-z8[_ngcontent-%COMP%]{\\n    margin:auto;\\n    text-align:center;\\n    width: 90%;\\n    margin-top: 2%;\\n    padding:1%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWNjb21tb2RhdGlvbi1tYW5hZ21lbnQvb3duZXJzLWFjY29tbW9kYXRpb25zL293bmVycy1hY2NvbW1vZGF0aW9ucy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksaUJBQWlCO0VBQ25CO0VBQ0E7SUFDRSxjQUFjO0lBQ2QsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixjQUFjO0VBQ2hCO0VBQ0E7SUFDRSxhQUFhO0lBQ2IsZUFBZTtJQUNmLDhCQUE4QjtJQUM5QixvQkFBb0I7RUFDdEI7RUFDQTtJQUNFLE9BQU87RUFDVDtFQUNBO0lBQ0UsY0FBYztFQUNoQjtFQUNBO0lBQ0Usa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixrQkFBa0I7RUFDcEI7RUFDQTtJQUNFLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsY0FBYztJQUNkLGFBQWE7SUFDYiw4QkFBOEI7SUFDOUIscUJBQXFCO0lBQ3JCLE9BQU87SUFDUCxpQkFBaUI7RUFDbkI7O0VBRUE7SUFDRSxXQUFXO0lBQ1gsaUJBQWlCO0lBQ2pCLFVBQVU7SUFDVixjQUFjO0lBQ2QsVUFBVTtBQUNkIiwic291cmNlc0NvbnRlbnQiOlsiKntcclxuICAgIGZvbnQtc2l6ZTogbWVkaXVtO1xyXG4gIH1cclxuICAucmVnaXN0ZXItaGVhZGVyIHtcclxuICAgIGNvbG9yOiAjMDA3YmZmOyBcclxuICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDMlO1xyXG4gICAgbWFyZ2luLXRvcDogNSU7XHJcbiAgfVxyXG4gIC5jYXJkLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC13cmFwOiB3cmFwOyBcclxuICAgIGp1c3RpZnktY29udGVudDpmaXJzdCBiYXNlbGluZTtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwMHB4O1xyXG4gIH1cclxuICBtYXQtZm9ybS1maWVsZCB7XHJcbiAgICBmbGV4OiAxOyBcclxuICB9XHJcbiAgaDIsaDN7XHJcbiAgICBjb2xvcjogIzAwN2JmZjsgXHJcbiAgfVxyXG4gIC5kYXRhLWNvbnRhaW5lciB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXgtd2lkdGg6IDYwJTtcclxuICAgIG1hcmdpbjogMjBweCBhdXRvO1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgfVxyXG4gIC5kYXRlLXBpY2tlci1jb250YWluZXIge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgd2lkdGg6IDcwJTtcclxuICAgIG1hcmdpbjogMCBhdXRvOyAgXHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xyXG4gICAgZ2FwOiAxJTsgXHJcbiAgICBtYXJnaW4tYm90dG9tOiAyJTtcclxuICB9XHJcblxyXG4gIC5tYXQtZWxldmF0aW9uLXo4e1xyXG4gICAgbWFyZ2luOmF1dG87XHJcbiAgICB0ZXh0LWFsaWduOmNlbnRlcjtcclxuICAgIHdpZHRoOiA5MCU7XHJcbiAgICBtYXJnaW4tdG9wOiAyJTtcclxuICAgIHBhZGRpbmc6MSU7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["MatIconModule","MatInputModule","MatFormFieldModule","MatButtonModule","MatChipsModule","MatRadioModule","LayoutModule","MatPaginator","MatPaginatorModule","MatSort","MatTableDataSource","MatTableModule","CommonModule","MatDatepickerModule","MatNativeDateModule","ReactiveFormsModule","MatSnackBarModule","JwtHelperService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","element_r14","id","element_r15","name","element_r16","ownerId","element_r17","type","element_r18","status","ɵɵlistener","OwnersAccommodationsComponent_td_21_Template_button_click_1_listener","restoredCtx","ɵɵrestoreView","_r21","element_r19","$implicit","ctx_r20","ɵɵnextContext","ɵɵresetView","openEditComponent","OwnersAccommodationsComponent_td_21_Template_button_click_5_listener","ctx_r22","openReservationsComponent","ɵɵelement","OwnersAccommodationsComponent","constructor","service","snackBar","router","accessToken","localStorage","getItem","helper","decodedToken","decodeToken","dataSource","displayedColumns","ngOnInit","sub","getByOwnerId","subscribe","response","Array","isArray","filteredList","filter","accommodation","paginator","sort","error","console","element","navigate","_","ɵɵdirectiveInject","i1","AccommodationService","i2","MatSnackBar","i3","Router","_2","selectors","viewQuery","OwnersAccommodationsComponent_Query","rf","ctx","ɵɵelementContainerStart","ɵɵtemplate","OwnersAccommodationsComponent_th_5_Template","OwnersAccommodationsComponent_td_6_Template","ɵɵelementContainerEnd","OwnersAccommodationsComponent_th_8_Template","OwnersAccommodationsComponent_td_9_Template","OwnersAccommodationsComponent_th_11_Template","OwnersAccommodationsComponent_td_12_Template","OwnersAccommodationsComponent_th_14_Template","OwnersAccommodationsComponent_td_15_Template","OwnersAccommodationsComponent_th_17_Template","OwnersAccommodationsComponent_td_18_Template","OwnersAccommodationsComponent_th_20_Template","OwnersAccommodationsComponent_td_21_Template","OwnersAccommodationsComponent_tr_22_Template","OwnersAccommodationsComponent_tr_23_Template","ɵɵproperty","ɵɵpureFunction0","_c0","i4","MatIcon","i5","MatButton","i6","MatTable","MatHeaderCellDef","MatHeaderRowDef","MatColumnDef","MatCellDef","MatRowDef","MatHeaderCell","MatCell","MatHeaderRow","MatRow","i7","styles"],"sources":["C:\\Users\\USER\\Desktop\\Front-end\\ProjectApp\\src\\app\\accommodation-managment\\owners-accommodations\\owners-accommodations.component.ts","C:\\Users\\USER\\Desktop\\Front-end\\ProjectApp\\src\\app\\accommodation-managment\\owners-accommodations\\owners-accommodations.component.html"],"sourcesContent":["import { Component, OnInit,ViewChild ,ChangeDetectorRef} from '@angular/core';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatFormFieldModule} from '@angular/material/form-field';\r\nimport {MatButtonModule} from '@angular/material/button';\r\nimport {MatChipsModule} from '@angular/material/chips';\r\nimport {MatRadioModule} from '@angular/material/radio';\r\nimport { LayoutModule } from 'src/app/layout/layout.module';\r\nimport {MatPaginator, MatPaginatorModule} from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport {MatTableDataSource, MatTableModule} from '@angular/material/table';\r\nimport { PriceCard } from 'src/app/accommodation/accommodation/model/priceCard.model';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MatDatepicker, MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { PriceTypeEnum } from 'src/app/models/enums/priceTypeEnum';\r\nimport { FormControl ,Validators} from '@angular/forms';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { AccommodationTypeEnum } from 'src/app/models/enums/accommodationTypeEnum';\r\nimport { AccommodationService } from 'src/app/accommodation/accommodation.service';\r\nimport { ReservationConfirmationEnum } from 'src/app/models/enums/reservationConfirmationEnum';\r\nimport { AccommodationPutDTO } from 'src/app/models/dtos/accommodationPutDTO.model';\r\nimport { Accommodation } from 'src/app/accommodation/accommodation/model/accommodation.model';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { EditPriceCardDialogComponent } from '../edit-price-card-dialog/edit-price-card-dialog.component';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { PriceCardService } from 'src/app/accommodation/priceCard.service';\r\nimport { Reservation } from 'src/app/models/reservation/reservation.model';\r\nimport { ReservationService } from 'src/app/models/reservation/reservation.service';\r\nimport { PriceCardPostDTO } from 'src/app/models/dtos/priceCardPostDTO.model';\r\nimport { ReservationStatusEnum } from 'src/app/models/enums/reservationStatusEnum';\r\nimport { Router } from '@angular/router';\r\nimport { JwtHelperService } from '@auth0/angular-jwt';\r\n@Component({\r\n  selector: 'app-owners-accommodations',\r\n  templateUrl: './owners-accommodations.component.html',\r\n  styleUrls: ['./owners-accommodations.component.css'],\r\n  standalone: true,\r\n  imports: [ReactiveFormsModule,MatFormFieldModule,MatNativeDateModule, MatInputModule, MatIconModule,MatButtonModule,MatChipsModule,MatRadioModule,LayoutModule,MatTableModule, MatPaginatorModule,CommonModule,MatDatepickerModule,MatSnackBarModule],\r\n\r\n})\r\nexport class OwnersAccommodationsComponent {\r\n\r\n  accessToken: any = localStorage.getItem('user');\r\n  helper = new JwtHelperService();\r\n  decodedToken = this.helper.decodeToken(this.accessToken);\r\n  ownerId:string=\"\"\r\n\r\n// if (this.decodedToken) {\r\n//   console.log(\"USERNAMEEE 899 \" , decodedToken.sub)\r\n//   this.ownerId=decodedToken.sub;\r\n//   }\r\n\r\n dataSource = new MatTableDataSource<Accommodation>([]);\r\n  displayedColumns: string[] = ['Id', 'Name', 'Owner','Type','Status','actions'];\r\n\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  @ViewChild(MatSort) sort: MatSort;\r\n   constructor(private service: AccommodationService, private snackBar:MatSnackBar,private router: Router) {\r\n  }\r\n  ngOnInit(): void {\r\n    this.ownerId=this.decodedToken.sub;\r\n    this.service.getByOwnerId(this.ownerId)\r\n    .subscribe(\r\n      (response) => {\r\n        if (Array.isArray(response)) {\r\n          const filteredList = response.filter((accommodation) => accommodation.status === 'APPROVED');\r\n          \r\n          this.dataSource = new MatTableDataSource<Accommodation>(filteredList);\r\n        }\r\n        this.dataSource.paginator = this.paginator;\r\n        this.dataSource.sort = this.sort;\r\n      },\r\n      (error) => {\r\n        console.error(error);\r\n      }  \r\n    );\r\n  }\r\n\r\n  openEditComponent(element:Accommodation){\r\n    this.router.navigate(['/editAccommodation', element.id]);\r\n  }\r\n  openReservationsComponent(element:Accommodation){\r\n    this.router.navigate(['/accommodationsReservations', element.id]);\r\n  }\r\n}\r\n","<h2 style=\"text-align: center;margin-top: 50px;\">My accommodations</h2>\r\n<div class=\"mat-elevation-z8\">\r\n    <table mat-table [dataSource]=\"dataSource\" matSort>\r\n      <ng-container matColumnDef=\"Id\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> Id </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.id}} </td>\r\n      </ng-container>\r\n  \r\n      <ng-container matColumnDef=\"Name\">\r\n        <th mat-header-cell *matHeaderCellDef> Accommodation Name</th>\r\n        <td mat-cell *matCellDef=\"let element\"> \r\n          {{element.name}}\r\n        </td>\r\n      </ng-container>\r\n  \r\n      <ng-container matColumnDef=\"Owner\">\r\n        <th mat-header-cell *matHeaderCellDef> Owner username</th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.ownerId}}</td>\r\n      </ng-container>\r\n  \r\n      \r\n      <ng-container matColumnDef=\"Type\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Type </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.type}} </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"Status\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Status </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.status}} </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"actions\">\r\n        <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n        <td mat-cell *matCellDef=\"let element\">\r\n            <button mat-raised-button color=\"accent\" (click)=\"openEditComponent(element)\">Edit Data <mat-icon>edit</mat-icon></button>\r\n            <button mat-raised-button color=\"primary\" (click)=\"openReservationsComponent(element)\" style=\"margin-left: 16px;\">Reservations <mat-icon>event</mat-icon></button>\r\n          </td>\r\n      </ng-container>\r\n    \r\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n      <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n    </table>\r\n  \r\n    <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\"\r\n                   showFirstLastButtons\r\n                   aria-label=\"Select page of periodic elements\">\r\n    </mat-paginator>\r\n    \r\n  </div>\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}