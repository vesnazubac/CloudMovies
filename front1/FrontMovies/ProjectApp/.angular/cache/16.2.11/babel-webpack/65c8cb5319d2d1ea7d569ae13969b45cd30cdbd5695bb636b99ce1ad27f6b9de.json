{"ast":null,"code":"import { LayoutModule } from '@angular/cdk/layout';\nimport { CommonModule, formatDate } from '@angular/common';\nimport { HttpParams } from '@angular/common/http';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatListModule } from '@angular/material/list';\nimport { MatPaginator, MatPaginatorModule } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource, MatTableModule } from '@angular/material/table';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport { ReservationStatusEnum } from 'src/app/models/enums/reservationStatusEnum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"src/app/accommodation/accommodation.service\";\nimport * as i5 from \"src/app/accommodation/priceCard.service\";\nimport * as i6 from \"src/app/models/reservation/reservation.service\";\nimport * as i7 from \"@angular/material/dialog\";\nimport * as i8 from \"src/app/models/socketApiService.service\";\nimport * as i9 from \"@angular/material/datepicker\";\nimport * as i10 from \"@angular/material/paginator\";\nimport * as i11 from \"@angular/material/table\";\nimport * as i12 from \"@angular/material/input\";\nimport * as i13 from \"@angular/material/form-field\";\nimport * as i14 from \"@angular/material/button\";\nimport * as i15 from \"@angular/common\";\nfunction AccommodationsReservationsComponent_th_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \" Id \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r53 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r53.id, \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_th_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \" Start Date\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r54 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, element_r54.timeSlot.startDate, \"shortDate\"), \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_th_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \" End Date \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r55 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, element_r55.timeSlot.endDate, \"shortDate\"), \"\");\n  }\n}\nfunction AccommodationsReservationsComponent_th_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \"Guests number\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r56 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r56.numberOfGuests, \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_th_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \"Status \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r57 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r57.status, \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_th_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \"Guest name \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r58 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r58.user.username, \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_th_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \"Num of cancellations \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r59 = ctx.$implicit;\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r13.numberOfCancelledReservations(element_r59.user.username), \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_th_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \" Actions \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r62 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 32)(1, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function AccommodationsReservationsComponent_td_27_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r62);\n      const element_r60 = restoredCtx.$implicit;\n      const ctx_r61 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r61.approveRequest(element_r60));\n    });\n    i0.ɵɵtext(2, \" Approve \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function AccommodationsReservationsComponent_td_27_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r62);\n      const element_r60 = restoredCtx.$implicit;\n      const ctx_r63 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r63.rejectRequest(element_r60));\n    });\n    i0.ɵɵtext(4, \" Reject \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AccommodationsReservationsComponent_tr_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 36);\n  }\n}\nfunction AccommodationsReservationsComponent_tr_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 37);\n  }\n}\nfunction AccommodationsReservationsComponent_th_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \" Id \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r65 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r65.id, \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_th_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \" Start Date\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r66 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, element_r66.timeSlot.startDate, \"shortDate\"), \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_th_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \" End Date \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r67 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, element_r67.timeSlot.endDate, \"shortDate\"), \"\");\n  }\n}\nfunction AccommodationsReservationsComponent_th_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \"Guests number\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r68 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r68.numberOfGuests, \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_th_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \"Status \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r69 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r69.status, \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_th_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \"Guest name \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r70 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r70.user.username, \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_th_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \"Num of cancellations \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r71 = ctx.$implicit;\n    const ctx_r31 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r31.numberOfCancelledReservations(element_r71.user.username), \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_tr_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 36);\n  }\n}\nfunction AccommodationsReservationsComponent_tr_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 37);\n  }\n}\nfunction AccommodationsReservationsComponent_th_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \" Id \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r73 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r73.id, \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_th_66_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \" Start Date\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r74 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, element_r74.timeSlot.startDate, \"shortDate\"), \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_th_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \" End Date \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r75 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, element_r75.timeSlot.endDate, \"shortDate\"), \"\");\n  }\n}\nfunction AccommodationsReservationsComponent_th_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \"Guests number\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_73_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r76 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r76.numberOfGuests, \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_th_75_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \"Status \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r77 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r77.status, \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_th_78_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \"Guest name \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_79_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r78 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r78.user.username, \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_th_81_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \"Num of cancellations \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccommodationsReservationsComponent_td_82_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r79 = ctx.$implicit;\n    const ctx_r47 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r47.numberOfCancelledReservations(element_r79.user.username), \" \");\n  }\n}\nfunction AccommodationsReservationsComponent_tr_83_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 36);\n  }\n}\nfunction AccommodationsReservationsComponent_tr_84_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 37);\n  }\n}\nfunction AccommodationsReservationsComponent_mat_error_93_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"This field is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function () {\n  return [5, 10, 20];\n};\nexport class AccommodationsReservationsComponent {\n  constructor(route, router, snackBar, cdr, fb, accommodationService, priceCardService, reservationService, dialog, socketApiService) {\n    this.route = route;\n    this.router = router;\n    this.snackBar = snackBar;\n    this.cdr = cdr;\n    this.fb = fb;\n    this.accommodationService = accommodationService;\n    this.priceCardService = priceCardService;\n    this.reservationService = reservationService;\n    this.dialog = dialog;\n    this.socketApiService = socketApiService;\n    this.reservations = [];\n    this.allReservations = [];\n    this.accessToken = localStorage.getItem('user');\n    this.helper = new JwtHelperService();\n    this.decodedToken = this.helper.decodeToken(this.accessToken);\n    this.ownerId = \"\";\n    this.pendingReservations = [];\n    this.approvedReservations = [];\n    this.rejectedReservations = [];\n    this.dataSourcePending = new MatTableDataSource([]);\n    this.dataSourceApproved = new MatTableDataSource([]);\n    this.dataSourceRejected = new MatTableDataSource([]);\n    this.displayedColumnsPending = ['Id', 'Start Date', 'End Date', 'Guests number', 'Status', 'Guest name', 'Num of cancellations', 'actions'];\n    this.displayedColumns = ['Id', 'Start Date', 'End Date', 'Guests number', 'Status', 'Guest name', 'Num of cancellations'];\n    this.searchReservationsForm = this.fb.group({\n      accName: [''],\n      startDate: [null, Validators.required],\n      endDate: [null, Validators.required]\n    }, {\n      validators: this.dateValidator\n    });\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      this.accommodationId = +params.get('id');\n    });\n    this.ownerId = this.decodedToken.sub;\n    this.reservationService.getAll().subscribe(reservations => {\n      if (reservations) {\n        this.allReservations = reservations;\n        console.log(this.allReservations);\n      }\n    }, error => {\n      console.error('Error getting reservations for accommodation:', error);\n    });\n    this.reservationService.getByAccommodationId(this.accommodationId).subscribe(reservations => {\n      if (reservations) {\n        this.reservations = reservations;\n        this.pendingReservations = this.reservations.filter(r => r.status === 'PENDING');\n        this.approvedReservations = this.reservations?.filter(r => r.status === 'APPROVED');\n        this.rejectedReservations = this.reservations?.filter(r => r.status === 'REJECTED');\n        console.log('All Reservations:', this.reservations);\n        console.log('Pending Reservations:', this.pendingReservations);\n        console.log('Approved Reservations:', this.approvedReservations);\n        console.log('Rejected Reservations:', this.rejectedReservations);\n        this.dataSourcePending = new MatTableDataSource(this.pendingReservations);\n        this.dataSourceApproved = new MatTableDataSource(this.approvedReservations);\n        this.dataSourceRejected = new MatTableDataSource(this.rejectedReservations);\n        this.dataSourcePending.paginator = this.paginator;\n        this.dataSourcePending.sort = this.sort;\n        console.log(this.reservations);\n      }\n    }, error => {\n      console.error('Error getting reservations for accommodation:', error);\n    });\n    this.cdr.detectChanges();\n  }\n  dateValidator(formGroup) {\n    const startDate = formGroup.get('startDate')?.value;\n    const endDate = formGroup.get('endDate')?.value;\n    if (startDate && endDate && startDate >= endDate) {\n      formGroup.get('endDate')?.setErrors({\n        dateRange: true\n      });\n    } else {\n      formGroup.get('endDate')?.setErrors(null);\n    }\n    if (startDate && endDate && startDate < new Date()) {\n      formGroup.get('startDate')?.setErrors({\n        pastDate: true\n      });\n    } else {\n      formGroup.get('startDate')?.setErrors(null);\n    }\n    if (endDate && endDate < new Date()) {\n      formGroup.get('endDate')?.setErrors({\n        pastDate: true\n      });\n    } else {\n      formGroup.get('endDate')?.setErrors(null);\n    }\n    return null;\n  }\n  formValidation() {\n    const startDate = new Date(this.searchReservationsForm.get('startDate')?.value);\n    const endDate = new Date(this.searchReservationsForm.get('endDate')?.value);\n    console.log(startDate);\n    console.log(endDate);\n    if (startDate >= endDate) {\n      this.openSnackBar('Dates are incorrect!');\n      return false;\n    }\n    return true;\n  }\n  numberOfCancelledReservations(username) {\n    let ret = 0;\n    ret = this.allReservations.filter(r => r.user.username === username && r.status === ReservationStatusEnum.CANCELLED).length;\n    return ret;\n  }\n  searchReservations() {\n    if (!this.formValidation) {\n      return;\n    }\n    const accNameValue = this.searchReservationsForm.get('accName')?.value;\n    console.log(accNameValue);\n    const startDate = this.searchReservationsForm.get('startDate')?.value;\n    const endDate = this.searchReservationsForm.get('endDate')?.value;\n    console.log(startDate);\n    console.log(endDate);\n    let params = new HttpParams().set('accName', accNameValue.toString()).set('startDate', formatDate(startDate, 'yyyy-MM-dd HH:mm:ss', 'en-US')).set('endDate', formatDate(endDate, 'yyyy-MM-dd HH:mm:ss', 'en-US'));\n    this.reservationService.searchFilter(params).subscribe({\n      next: reservations => {\n        this.reservations = reservations;\n        this.pendingReservations = this.reservations.filter(r => r.status === 'PENDING');\n        this.approvedReservations = this.reservations?.filter(r => r.status === 'APPROVED');\n        this.rejectedReservations = this.reservations?.filter(r => r.status === 'REJECTED');\n        //this.cancelledReservations=this.reservations?.filter(r => r.status === 'CANCELLED');\n        this.dataSourcePending = new MatTableDataSource(this.pendingReservations);\n        this.dataSourceApproved = new MatTableDataSource(this.approvedReservations);\n        this.dataSourceRejected = new MatTableDataSource(this.rejectedReservations);\n        //this.dataSourceCancelled=new MatTableDataSource<Reservation>(this.cancelledReservations);\n        this.dataSourcePending.paginator = this.paginator;\n        this.dataSourcePending.sort = this.sort;\n        console.log(reservations);\n      }\n    });\n  }\n  showAll() {\n    this.reservationService.getByAccommodationId(this.accommodationId).subscribe(reservations => {\n      if (reservations) {\n        this.reservations = reservations;\n        this.pendingReservations = this.reservations.filter(r => r.status === 'PENDING');\n        this.approvedReservations = this.reservations?.filter(r => r.status === 'APPROVED');\n        this.rejectedReservations = this.reservations?.filter(r => r.status === 'REJECTED');\n        console.log('All Reservations:', this.reservations);\n        console.log('Pending Reservations:', this.pendingReservations);\n        console.log('Approved Reservations:', this.approvedReservations);\n        console.log('Rejected Reservations:', this.rejectedReservations);\n        this.dataSourcePending = new MatTableDataSource(this.pendingReservations);\n        this.dataSourceApproved = new MatTableDataSource(this.approvedReservations);\n        this.dataSourceRejected = new MatTableDataSource(this.rejectedReservations);\n        this.dataSourcePending.paginator = this.paginator;\n        this.dataSourcePending.sort = this.sort;\n        console.log(this.reservations);\n      }\n    }, error => {\n      console.error('Error getting reservations for accommodation:', error);\n    });\n    this.cdr.detectChanges();\n  }\n  openSnackBar(message) {\n    this.snackBar.open(message, 'OK', {\n      duration: 4000\n    });\n  }\n  approveRequest(reservation) {\n    this.reservationService.confirmReservation(reservation.id).subscribe(() => {\n      console.log('Reservation confirmed successfully.');\n    }, error => {});\n    this.openSnackBar('Sucessfully approved reservation request!');\n    // const sampleMessage: Message = {\n    //   fromId: this.ownerId,\n    //   toId: reservation.user.username,\n    //   message: 'Successfully approved reservation in '+reservation.accommodation.name+' accommodation!',\n    // };\n    // this.socketApiService.sendMessageUsingRest(sampleMessage);\n    this.rejectOverlappingRequests(reservation.timeSlot.startDate, reservation.timeSlot.endDate, reservation.id);\n    this.pendingReservations = this.pendingReservations?.filter(r => r.id !== reservation.id);\n    reservation.status = ReservationStatusEnum.APPROVED;\n    this.approvedReservations?.push(reservation);\n    this.dataSourcePending.data = this.pendingReservations;\n    this.dataSourceApproved.data = this.approvedReservations;\n  }\n  rejectRequest(reservation) {\n    this.reservationService.rejectReservation(reservation.id).subscribe(() => {\n      console.log('Reservation rejected successfully.');\n    }, error => {});\n    this.openSnackBar('Sucessfully rejected reservation request!');\n    this.pendingReservations = this.pendingReservations.filter(r => r.id !== reservation.id);\n    reservation.status = ReservationStatusEnum.REJECTED;\n    this.rejectedReservations.push(reservation);\n    this.dataSourcePending.data = this.pendingReservations;\n    this.dataSourceRejected.data = this.rejectedReservations;\n  }\n  rejectOverlappingRequests(startDate, endDate, reservationId) {\n    const overlappingReservations = [];\n    for (const reservation of this.pendingReservations) {\n      if (reservation.id != reservationId && !this.checkOverlap(reservation)) {\n        overlappingReservations.push(reservation);\n      }\n    }\n    console.log(overlappingReservations);\n    for (const reservation of overlappingReservations) {\n      this.rejectRequest(reservation);\n    }\n  }\n  checkOverlap(reservation) {\n    const newStartDate = new Date(reservation.timeSlot.startDate);\n    const newEndDate = new Date(reservation.timeSlot.endDate);\n    newStartDate.setHours(0, 0, 0, 0);\n    newEndDate.setHours(0, 0, 0, 0);\n    const overlap = this.pendingReservations.some(existingReservation => {\n      const existingStartDate = new Date(existingReservation.timeSlot.startDate);\n      const existingEndDate = new Date(existingReservation.timeSlot.endDate);\n      existingStartDate.setHours(0, 0, 0, 0);\n      existingEndDate.setHours(0, 0, 0, 0);\n      console.log('Existing Reservation Start Date:', existingStartDate);\n      console.log('Existing Reservation End Date:', existingEndDate);\n      const overlapStartDate = existingStartDate <= newEndDate && existingEndDate >= newStartDate;\n      const overlapEndDate = existingEndDate >= newStartDate && existingStartDate <= newEndDate;\n      console.log('Overlap Start Date:', overlapStartDate);\n      console.log('Overlap End Date:', overlapEndDate);\n      return overlapStartDate && overlapEndDate;\n    });\n    console.log('Overlap:', overlap);\n    return !overlap;\n  }\n  static #_ = this.ɵfac = function AccommodationsReservationsComponent_Factory(t) {\n    return new (t || AccommodationsReservationsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.MatSnackBar), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.AccommodationService), i0.ɵɵdirectiveInject(i5.PriceCardService), i0.ɵɵdirectiveInject(i6.ReservationService), i0.ɵɵdirectiveInject(i7.MatDialog), i0.ɵɵdirectiveInject(i8.SocketApiService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AccommodationsReservationsComponent,\n    selectors: [[\"app-accommodations-reservations\"]],\n    viewQuery: function AccommodationsReservationsComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 5);\n        i0.ɵɵviewQuery(MatSort, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n      }\n    },\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 117,\n    vars: 17,\n    consts: [[1, \"mat-elevation-z8\"], [2, \"margin-left\", \"10px\"], [\"mat-table\", \"\", \"matSort\", \"\", 3, \"dataSource\"], [\"matColumnDef\", \"Id\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"Start Date\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"End Date\"], [\"matColumnDef\", \"Guests number\"], [\"matColumnDef\", \"Status\"], [\"matColumnDef\", \"Guest name\"], [\"matColumnDef\", \"Num of cancellations\"], [\"matColumnDef\", \"actions\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"showFirstLastButtons\", \"\", \"aria-label\", \"Select page of periodic elements\", 3, \"pageSizeOptions\"], [3, \"formGroup\"], [1, \"data-container\"], [1, \"register-header\"], [\"appearance\", \"outline\"], [\"matInput\", \"\", \"placeholder\", \"Accommodation name:\", \"formControlName\", \"accName\"], [4, \"ngIf\"], [1, \"date-picker-container\"], [\"matInput\", \"\", \"formControlName\", \"startDate\", 3, \"matDatepicker\"], [\"matIconSuffix\", \"\", 3, \"for\"], [\"startPicker\", \"\"], [\"matInput\", \"\", \"formControlName\", \"endDate\", 3, \"matDatepicker\"], [\"endPicker\", \"\"], [\"mat-button\", \"\", 2, \"background-color\", \"#1e88e5\", \"color\", \"white\", \"margin-top\", \"4%\", \"margin-right\", \"8px\", 3, \"click\"], [\"mat-button\", \"\", 2, \"background-color\", \"#1e88e5\", \"color\", \"white\", \"margin-top\", \"4%\", \"margin-left\", \"8px\", 3, \"click\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-cell\", \"\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 2, \"margin-right\", \"20px\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function AccommodationsReservationsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n        i0.ɵɵtext(2, \"Pending Reservations\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"table\", 2);\n        i0.ɵɵelementContainerStart(4, 3);\n        i0.ɵɵtemplate(5, AccommodationsReservationsComponent_th_5_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(6, AccommodationsReservationsComponent_td_6_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(7, 6);\n        i0.ɵɵtemplate(8, AccommodationsReservationsComponent_th_8_Template, 2, 0, \"th\", 7);\n        i0.ɵɵtemplate(9, AccommodationsReservationsComponent_td_9_Template, 3, 4, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(10, 8);\n        i0.ɵɵtemplate(11, AccommodationsReservationsComponent_th_11_Template, 2, 0, \"th\", 7);\n        i0.ɵɵtemplate(12, AccommodationsReservationsComponent_td_12_Template, 3, 4, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(13, 9);\n        i0.ɵɵtemplate(14, AccommodationsReservationsComponent_th_14_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(15, AccommodationsReservationsComponent_td_15_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(16, 10);\n        i0.ɵɵtemplate(17, AccommodationsReservationsComponent_th_17_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(18, AccommodationsReservationsComponent_td_18_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(19, 11);\n        i0.ɵɵtemplate(20, AccommodationsReservationsComponent_th_20_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(21, AccommodationsReservationsComponent_td_21_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(22, 12);\n        i0.ɵɵtemplate(23, AccommodationsReservationsComponent_th_23_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(24, AccommodationsReservationsComponent_td_24_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(25, 13);\n        i0.ɵɵtemplate(26, AccommodationsReservationsComponent_th_26_Template, 2, 0, \"th\", 7);\n        i0.ɵɵtemplate(27, AccommodationsReservationsComponent_td_27_Template, 5, 0, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(28, AccommodationsReservationsComponent_tr_28_Template, 1, 0, \"tr\", 14);\n        i0.ɵɵtemplate(29, AccommodationsReservationsComponent_tr_29_Template, 1, 0, \"tr\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(30, \"mat-paginator\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 0)(32, \"h2\", 1);\n        i0.ɵɵtext(33, \"Approved reservations\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"table\", 2);\n        i0.ɵɵelementContainerStart(35, 3);\n        i0.ɵɵtemplate(36, AccommodationsReservationsComponent_th_36_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(37, AccommodationsReservationsComponent_td_37_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(38, 6);\n        i0.ɵɵtemplate(39, AccommodationsReservationsComponent_th_39_Template, 2, 0, \"th\", 7);\n        i0.ɵɵtemplate(40, AccommodationsReservationsComponent_td_40_Template, 3, 4, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(41, 8);\n        i0.ɵɵtemplate(42, AccommodationsReservationsComponent_th_42_Template, 2, 0, \"th\", 7);\n        i0.ɵɵtemplate(43, AccommodationsReservationsComponent_td_43_Template, 3, 4, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(44, 9);\n        i0.ɵɵtemplate(45, AccommodationsReservationsComponent_th_45_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(46, AccommodationsReservationsComponent_td_46_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(47, 10);\n        i0.ɵɵtemplate(48, AccommodationsReservationsComponent_th_48_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(49, AccommodationsReservationsComponent_td_49_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(50, 11);\n        i0.ɵɵtemplate(51, AccommodationsReservationsComponent_th_51_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(52, AccommodationsReservationsComponent_td_52_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(53, 12);\n        i0.ɵɵtemplate(54, AccommodationsReservationsComponent_th_54_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(55, AccommodationsReservationsComponent_td_55_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(56, AccommodationsReservationsComponent_tr_56_Template, 1, 0, \"tr\", 14);\n        i0.ɵɵtemplate(57, AccommodationsReservationsComponent_tr_57_Template, 1, 0, \"tr\", 15);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(58, \"div\", 0)(59, \"h2\", 1);\n        i0.ɵɵtext(60, \"Rejected Reservations\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(61, \"table\", 2);\n        i0.ɵɵelementContainerStart(62, 3);\n        i0.ɵɵtemplate(63, AccommodationsReservationsComponent_th_63_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(64, AccommodationsReservationsComponent_td_64_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(65, 6);\n        i0.ɵɵtemplate(66, AccommodationsReservationsComponent_th_66_Template, 2, 0, \"th\", 7);\n        i0.ɵɵtemplate(67, AccommodationsReservationsComponent_td_67_Template, 3, 4, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(68, 8);\n        i0.ɵɵtemplate(69, AccommodationsReservationsComponent_th_69_Template, 2, 0, \"th\", 7);\n        i0.ɵɵtemplate(70, AccommodationsReservationsComponent_td_70_Template, 3, 4, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(71, 9);\n        i0.ɵɵtemplate(72, AccommodationsReservationsComponent_th_72_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(73, AccommodationsReservationsComponent_td_73_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(74, 10);\n        i0.ɵɵtemplate(75, AccommodationsReservationsComponent_th_75_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(76, AccommodationsReservationsComponent_td_76_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(77, 11);\n        i0.ɵɵtemplate(78, AccommodationsReservationsComponent_th_78_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(79, AccommodationsReservationsComponent_td_79_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(80, 12);\n        i0.ɵɵtemplate(81, AccommodationsReservationsComponent_th_81_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(82, AccommodationsReservationsComponent_td_82_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(83, AccommodationsReservationsComponent_tr_83_Template, 1, 0, \"tr\", 14);\n        i0.ɵɵtemplate(84, AccommodationsReservationsComponent_tr_84_Template, 1, 0, \"tr\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(85, \"form\", 17)(86, \"div\", 18)(87, \"h2\", 19);\n        i0.ɵɵtext(88, \"Search reservations\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(89, \"mat-form-field\", 20)(90, \"mat-label\");\n        i0.ɵɵtext(91, \"Accommodation name:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(92, \"input\", 21);\n        i0.ɵɵtemplate(93, AccommodationsReservationsComponent_mat_error_93_Template, 2, 0, \"mat-error\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(94, \"div\", 23)(95, \"mat-form-field\")(96, \"mat-label\");\n        i0.ɵɵtext(97, \"Choose a start date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(98, \"input\", 24);\n        i0.ɵɵelementStart(99, \"mat-hint\");\n        i0.ɵɵtext(100, \"MM/DD/YYYY\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(101, \"mat-datepicker-toggle\", 25)(102, \"mat-datepicker\", null, 26);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(104, \"mat-form-field\")(105, \"mat-label\");\n        i0.ɵɵtext(106, \"Choose an end date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(107, \"input\", 27);\n        i0.ɵɵelementStart(108, \"mat-hint\");\n        i0.ɵɵtext(109, \"MM/DD/YYYY\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(110, \"mat-datepicker-toggle\", 25)(111, \"mat-datepicker\", null, 28);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(113, \"button\", 29);\n        i0.ɵɵlistener(\"click\", function AccommodationsReservationsComponent_Template_button_click_113_listener() {\n          return ctx.searchReservations();\n        });\n        i0.ɵɵtext(114, \"Search\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(115, \"button\", 30);\n        i0.ɵɵlistener(\"click\", function AccommodationsReservationsComponent_Template_button_click_115_listener() {\n          return ctx.showAll();\n        });\n        i0.ɵɵtext(116, \"Show all\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        const _r51 = i0.ɵɵreference(103);\n        const _r52 = i0.ɵɵreference(112);\n        let tmp_11_0;\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSourcePending);\n        i0.ɵɵadvance(25);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumnsPending);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumnsPending);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(16, _c0));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSourceApproved);\n        i0.ɵɵadvance(22);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSourceRejected);\n        i0.ɵɵadvance(22);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.searchReservationsForm);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", (tmp_11_0 = ctx.searchReservationsForm.get(\"accName\")) == null ? null : tmp_11_0.hasError(\"required\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"matDatepicker\", _r51);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"for\", _r51);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"matDatepicker\", _r52);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"for\", _r52);\n      }\n    },\n    dependencies: [ReactiveFormsModule, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName, MatDatepickerModule, i9.MatDatepicker, i9.MatDatepickerInput, i9.MatDatepickerToggle, MatChipsModule, MatPaginatorModule, i10.MatPaginator, MatIconModule, MatTableModule, i11.MatTable, i11.MatHeaderCellDef, i11.MatHeaderRowDef, i11.MatColumnDef, i11.MatCellDef, i11.MatRowDef, i11.MatHeaderCell, i11.MatCell, i11.MatHeaderRow, i11.MatRow, MatInputModule, i12.MatInput, i13.MatFormField, i13.MatLabel, i13.MatHint, i13.MatError, i13.MatSuffix, MatFormFieldModule, MatButtonModule, i14.MatButton, MatListModule, CommonModule, i15.NgIf, i15.DatePipe, LayoutModule],\n    styles: [\".mat-elevation-z8[_ngcontent-%COMP%]{\\n    margin:auto;\\n    text-align:center;\\n    width: 80%;\\n    margin-top: 2%;\\n    padding:1%;\\n    box-shadow: none;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWNjb21tb2RhdGlvbi1tYW5hZ21lbnQvYWNjb21tb2RhdGlvbnMtcmVzZXJ2YXRpb25zL2FjY29tbW9kYXRpb25zLXJlc2VydmF0aW9ucy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztJQUNYLGlCQUFpQjtJQUNqQixVQUFVO0lBQ1YsY0FBYztJQUNkLFVBQVU7SUFDVixnQkFBZ0I7QUFDcEIiLCJzb3VyY2VzQ29udGVudCI6WyIubWF0LWVsZXZhdGlvbi16OHtcclxuICAgIG1hcmdpbjphdXRvO1xyXG4gICAgdGV4dC1hbGlnbjpjZW50ZXI7XHJcbiAgICB3aWR0aDogODAlO1xyXG4gICAgbWFyZ2luLXRvcDogMiU7XHJcbiAgICBwYWRkaW5nOjElO1xyXG4gICAgYm94LXNoYWRvdzogbm9uZTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["LayoutModule","CommonModule","formatDate","HttpParams","ReactiveFormsModule","Validators","MatButtonModule","MatChipsModule","MatDatepickerModule","MatFormFieldModule","MatIconModule","MatInputModule","MatListModule","MatPaginator","MatPaginatorModule","MatSort","MatTableDataSource","MatTableModule","JwtHelperService","ReservationStatusEnum","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","element_r53","id","ɵɵpipeBind2","element_r54","timeSlot","startDate","element_r55","endDate","element_r56","numberOfGuests","element_r57","status","element_r58","user","username","ctx_r13","numberOfCancelledReservations","element_r59","ɵɵlistener","AccommodationsReservationsComponent_td_27_Template_button_click_1_listener","restoredCtx","ɵɵrestoreView","_r62","element_r60","$implicit","ctx_r61","ɵɵnextContext","ɵɵresetView","approveRequest","AccommodationsReservationsComponent_td_27_Template_button_click_3_listener","ctx_r63","rejectRequest","ɵɵelement","element_r65","element_r66","element_r67","element_r68","element_r69","element_r70","ctx_r31","element_r71","element_r73","element_r74","element_r75","element_r76","element_r77","element_r78","ctx_r47","element_r79","AccommodationsReservationsComponent","constructor","route","router","snackBar","cdr","fb","accommodationService","priceCardService","reservationService","dialog","socketApiService","reservations","allReservations","accessToken","localStorage","getItem","helper","decodedToken","decodeToken","ownerId","pendingReservations","approvedReservations","rejectedReservations","dataSourcePending","dataSourceApproved","dataSourceRejected","displayedColumnsPending","displayedColumns","searchReservationsForm","group","accName","required","validators","dateValidator","ngOnInit","paramMap","subscribe","params","accommodationId","get","sub","getAll","console","log","error","getByAccommodationId","filter","r","paginator","sort","detectChanges","formGroup","value","setErrors","dateRange","Date","pastDate","formValidation","openSnackBar","ret","CANCELLED","length","searchReservations","accNameValue","set","toString","searchFilter","next","showAll","message","open","duration","reservation","confirmReservation","rejectOverlappingRequests","APPROVED","push","data","rejectReservation","REJECTED","reservationId","overlappingReservations","checkOverlap","newStartDate","newEndDate","setHours","overlap","some","existingReservation","existingStartDate","existingEndDate","overlapStartDate","overlapEndDate","_","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","MatSnackBar","ChangeDetectorRef","i3","FormBuilder","i4","AccommodationService","i5","PriceCardService","i6","ReservationService","i7","MatDialog","i8","SocketApiService","_2","selectors","viewQuery","AccommodationsReservationsComponent_Query","rf","ctx","ɵɵelementContainerStart","ɵɵtemplate","AccommodationsReservationsComponent_th_5_Template","AccommodationsReservationsComponent_td_6_Template","ɵɵelementContainerEnd","AccommodationsReservationsComponent_th_8_Template","AccommodationsReservationsComponent_td_9_Template","AccommodationsReservationsComponent_th_11_Template","AccommodationsReservationsComponent_td_12_Template","AccommodationsReservationsComponent_th_14_Template","AccommodationsReservationsComponent_td_15_Template","AccommodationsReservationsComponent_th_17_Template","AccommodationsReservationsComponent_td_18_Template","AccommodationsReservationsComponent_th_20_Template","AccommodationsReservationsComponent_td_21_Template","AccommodationsReservationsComponent_th_23_Template","AccommodationsReservationsComponent_td_24_Template","AccommodationsReservationsComponent_th_26_Template","AccommodationsReservationsComponent_td_27_Template","AccommodationsReservationsComponent_tr_28_Template","AccommodationsReservationsComponent_tr_29_Template","AccommodationsReservationsComponent_th_36_Template","AccommodationsReservationsComponent_td_37_Template","AccommodationsReservationsComponent_th_39_Template","AccommodationsReservationsComponent_td_40_Template","AccommodationsReservationsComponent_th_42_Template","AccommodationsReservationsComponent_td_43_Template","AccommodationsReservationsComponent_th_45_Template","AccommodationsReservationsComponent_td_46_Template","AccommodationsReservationsComponent_th_48_Template","AccommodationsReservationsComponent_td_49_Template","AccommodationsReservationsComponent_th_51_Template","AccommodationsReservationsComponent_td_52_Template","AccommodationsReservationsComponent_th_54_Template","AccommodationsReservationsComponent_td_55_Template","AccommodationsReservationsComponent_tr_56_Template","AccommodationsReservationsComponent_tr_57_Template","AccommodationsReservationsComponent_th_63_Template","AccommodationsReservationsComponent_td_64_Template","AccommodationsReservationsComponent_th_66_Template","AccommodationsReservationsComponent_td_67_Template","AccommodationsReservationsComponent_th_69_Template","AccommodationsReservationsComponent_td_70_Template","AccommodationsReservationsComponent_th_72_Template","AccommodationsReservationsComponent_td_73_Template","AccommodationsReservationsComponent_th_75_Template","AccommodationsReservationsComponent_td_76_Template","AccommodationsReservationsComponent_th_78_Template","AccommodationsReservationsComponent_td_79_Template","AccommodationsReservationsComponent_th_81_Template","AccommodationsReservationsComponent_td_82_Template","AccommodationsReservationsComponent_tr_83_Template","AccommodationsReservationsComponent_tr_84_Template","AccommodationsReservationsComponent_mat_error_93_Template","AccommodationsReservationsComponent_Template_button_click_113_listener","AccommodationsReservationsComponent_Template_button_click_115_listener","ɵɵproperty","ɵɵpureFunction0","_c0","tmp_11_0","hasError","_r51","_r52","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","i9","MatDatepicker","MatDatepickerInput","MatDatepickerToggle","i10","i11","MatTable","MatHeaderCellDef","MatHeaderRowDef","MatColumnDef","MatCellDef","MatRowDef","MatHeaderCell","MatCell","MatHeaderRow","MatRow","i12","MatInput","i13","MatFormField","MatLabel","MatHint","MatError","MatSuffix","i14","MatButton","i15","NgIf","DatePipe","styles"],"sources":["C:\\Users\\USER\\Desktop\\CloudMovies\\front\\FrontMovies\\ProjectApp\\src\\app\\accommodation-managment\\accommodations-reservations\\accommodations-reservations.component.ts","C:\\Users\\USER\\Desktop\\CloudMovies\\front\\FrontMovies\\ProjectApp\\src\\app\\accommodation-managment\\accommodations-reservations\\accommodations-reservations.component.html"],"sourcesContent":["import { LayoutModule } from '@angular/cdk/layout';\r\nimport { CommonModule, formatDate } from '@angular/common';\r\nimport { HttpParams } from '@angular/common/http';\r\nimport { ChangeDetectorRef, Component,ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { MatPaginator, MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatTableDataSource, MatTableModule } from '@angular/material/table';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { JwtHelperService } from '@auth0/angular-jwt';\r\nimport { AccommodationService } from 'src/app/accommodation/accommodation.service';\r\nimport { Accommodation } from 'src/app/accommodation/accommodation/model/accommodation.model';\r\nimport { PriceCardService } from 'src/app/accommodation/priceCard.service';\r\nimport { ReservationStatusEnum } from 'src/app/models/enums/reservationStatusEnum';\r\nimport { Message } from 'src/app/models/message.model';\r\nimport { Reservation } from 'src/app/models/reservation/reservation.model';\r\nimport { ReservationService } from 'src/app/models/reservation/reservation.service';\r\nimport { SocketApiService } from 'src/app/models/socketApiService.service';\r\nimport { ReservationComponent } from 'src/app/reservation/reservation.component';\r\n\r\n@Component({\r\n  selector: 'app-accommodations-reservations',\r\n  templateUrl: './accommodations-reservations.component.html',\r\n  styleUrls: ['./accommodations-reservations.component.css'],\r\n  standalone: true,\r\n  imports: [ReactiveFormsModule,MatDatepickerModule,MatChipsModule,MatPaginatorModule, MatIconModule,MatTableModule, MatInputModule, MatFormFieldModule, MatButtonModule, MatListModule, CommonModule, LayoutModule, ReservationComponent]\r\n})\r\nexport class AccommodationsReservationsComponent {\r\n\r\n  reservations:Reservation[]=[];\r\n  accommodationId:number;    //accommodation id \r\n  accommodation:Accommodation;  //accommodation to be updated\r\n  allReservations:Reservation[]=[];\r\n\r\n  accessToken: any = localStorage.getItem('user');\r\n  helper = new JwtHelperService();\r\n  decodedToken = this.helper.decodeToken(this.accessToken);\r\n  ownerId:string=\"\"\r\n\r\n  pendingReservations:Reservation[]=[];\r\n  approvedReservations:Reservation[]=[];\r\n  rejectedReservations:Reservation[]=[];\r\n\r\n\r\n  dataSourcePending = new MatTableDataSource<Reservation>([]);\r\n  dataSourceApproved = new MatTableDataSource<Reservation>([]);\r\n  dataSourceRejected = new MatTableDataSource<Reservation>([]);\r\n  displayedColumnsPending: string[] = ['Id', 'Start Date', 'End Date', 'Guests number','Status','Guest name','Num of cancellations','actions'];\r\n  displayedColumns: string[] = ['Id', 'Start Date', 'End Date', 'Guests number','Status','Guest name','Num of cancellations'];\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  @ViewChild(MatSort) sort: MatSort;\r\n\r\n  constructor(private route: ActivatedRoute,\r\n    private router: Router,private snackBar:MatSnackBar,private cdr: ChangeDetectorRef,private fb:FormBuilder,private accommodationService:AccommodationService,private priceCardService:PriceCardService,private reservationService:ReservationService,private dialog:MatDialog,private socketApiService:SocketApiService) {\r\n  }\r\n  \r\n\r\n  ngOnInit(): void {\r\n\r\n    this.route.paramMap.subscribe((params) => {\r\n      this.accommodationId = +params.get('id')!;\r\n    });\r\n\r\n    this.ownerId=this.decodedToken.sub;\r\n\r\n    this.reservationService.getAll().subscribe(\r\n      (reservations: Reservation[]|undefined) => {\r\n        if(reservations){\r\n        this.allReservations = reservations;\r\n        \r\n        console.log(this.allReservations);\r\n        }\r\n      },\r\n      (error) => {\r\n        console.error('Error getting reservations for accommodation:', error);\r\n      }\r\n    );\r\n\r\n\r\n    this.reservationService.getByAccommodationId(this.accommodationId).subscribe(\r\n      (reservations: Reservation[]|undefined) => {\r\n        if(reservations){\r\n        this.reservations = reservations;\r\n        this.pendingReservations = this.reservations.filter(r => r.status === 'PENDING');\r\n        this.approvedReservations = this.reservations?.filter(r => r.status === 'APPROVED');\r\n        this.rejectedReservations = this.reservations?.filter(r => r.status === 'REJECTED');\r\n  \r\n        console.log('All Reservations:', this.reservations);\r\n      console.log('Pending Reservations:', this.pendingReservations);\r\n      console.log('Approved Reservations:', this.approvedReservations);\r\n      console.log('Rejected Reservations:', this.rejectedReservations);\r\n\r\n        this.dataSourcePending=new MatTableDataSource<Reservation>(this.pendingReservations);\r\n        this.dataSourceApproved=new MatTableDataSource<Reservation>(this.approvedReservations);\r\n        this.dataSourceRejected=new MatTableDataSource<Reservation>(this.rejectedReservations);\r\n\r\n        this.dataSourcePending.paginator=this.paginator;\r\n        this.dataSourcePending.sort=this.sort;\r\n        \r\n        console.log(this.reservations);\r\n        }\r\n      },\r\n      (error) => {\r\n        console.error('Error getting reservations for accommodation:', error);\r\n      }\r\n    );\r\n\r\n    this.cdr.detectChanges();\r\n\r\n  }\r\n  searchReservationsForm = this.fb.group({\r\n    accName: [''],\r\n    startDate: [null, Validators.required],\r\n    endDate: [null, Validators.required],\r\n  }, { validators: this.dateValidator });\r\n\r\n\r\n  dateValidator(formGroup: FormGroup) {\r\n    const startDate = formGroup.get('startDate')?.value;\r\n    const endDate = formGroup.get('endDate')?.value;\r\n\r\n    if (startDate && endDate && startDate >= endDate) {\r\n      formGroup.get('endDate')?.setErrors({ dateRange: true });\r\n    } else {\r\n      formGroup.get('endDate')?.setErrors(null);\r\n    }\r\n\r\n    if (startDate && endDate && startDate < new Date()) {\r\n      formGroup.get('startDate')?.setErrors({ pastDate: true });\r\n    } else {\r\n      formGroup.get('startDate')?.setErrors(null);\r\n    }\r\n\r\n    if (endDate && endDate < new Date()) {\r\n      formGroup.get('endDate')?.setErrors({ pastDate: true });\r\n    } else {\r\n      formGroup.get('endDate')?.setErrors(null);\r\n    }\r\n\r\n    return null;\r\n  }\r\n  formValidation():boolean{\r\n    const startDate = new Date(this.searchReservationsForm.get('startDate')?.value);\r\n    const endDate = new Date(this.searchReservationsForm.get('endDate')?.value);\r\n    console.log(startDate)\r\n    console.log(endDate)\r\n    if(startDate>=endDate){\r\n      this.openSnackBar('Dates are incorrect!');\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n  numberOfCancelledReservations(username: string): number {\r\n    let ret = 0;\r\n    ret = this.allReservations.filter(r => r.user.username === username && r.status === ReservationStatusEnum.CANCELLED).length;\r\n    return ret;\r\n  }\r\n  searchReservations(){\r\n    if(!this.formValidation){\r\n      return;\r\n    }\r\n    const accNameValue=this.searchReservationsForm.get('accName')?.value;\r\n    console.log(accNameValue);\r\n    const startDate = this.searchReservationsForm.get('startDate')?.value;\r\n    const endDate = this.searchReservationsForm.get('endDate')?.value;\r\n    console.log(startDate);\r\n    console.log(endDate);\r\n\r\n    let params=new HttpParams()\r\n    .set('accName',accNameValue.toString())\r\n    .set('startDate',formatDate(startDate,'yyyy-MM-dd HH:mm:ss','en-US'))\r\n    .set('endDate',formatDate(endDate,'yyyy-MM-dd HH:mm:ss','en-US'))\r\n\r\n    this.reservationService.searchFilter(params).subscribe({\r\n      next:(reservations:Reservation[])=>{\r\n        this.reservations=reservations;\r\n        this.pendingReservations = this.reservations.filter(r => r.status === 'PENDING');\r\n        this.approvedReservations = this.reservations?.filter(r => r.status === 'APPROVED');\r\n        this.rejectedReservations = this.reservations?.filter(r => r.status === 'REJECTED');\r\n        //this.cancelledReservations=this.reservations?.filter(r => r.status === 'CANCELLED');\r\n\r\n        this.dataSourcePending=new MatTableDataSource<Reservation>(this.pendingReservations);\r\n        this.dataSourceApproved=new MatTableDataSource<Reservation>(this.approvedReservations);\r\n        this.dataSourceRejected=new MatTableDataSource<Reservation>(this.rejectedReservations);\r\n        //this.dataSourceCancelled=new MatTableDataSource<Reservation>(this.cancelledReservations);\r\n        this.dataSourcePending.paginator=this.paginator;\r\n        this.dataSourcePending.sort=this.sort;\r\n        console.log(reservations);\r\n      }\r\n    });\r\n  }\r\n  showAll(){\r\n    this.reservationService.getByAccommodationId(this.accommodationId).subscribe(\r\n      (reservations: Reservation[]|undefined) => {\r\n        if(reservations){\r\n        this.reservations = reservations;\r\n        this.pendingReservations = this.reservations.filter(r => r.status === 'PENDING');\r\n        this.approvedReservations = this.reservations?.filter(r => r.status === 'APPROVED');\r\n        this.rejectedReservations = this.reservations?.filter(r => r.status === 'REJECTED');\r\n  \r\n        console.log('All Reservations:', this.reservations);\r\n      console.log('Pending Reservations:', this.pendingReservations);\r\n      console.log('Approved Reservations:', this.approvedReservations);\r\n      console.log('Rejected Reservations:', this.rejectedReservations);\r\n\r\n\r\n\r\n        this.dataSourcePending=new MatTableDataSource<Reservation>(this.pendingReservations);\r\n        this.dataSourceApproved=new MatTableDataSource<Reservation>(this.approvedReservations);\r\n        this.dataSourceRejected=new MatTableDataSource<Reservation>(this.rejectedReservations);\r\n\r\n        this.dataSourcePending.paginator=this.paginator;\r\n        this.dataSourcePending.sort=this.sort;\r\n        \r\n        console.log(this.reservations);\r\n        }\r\n      },\r\n      (error) => {\r\n        console.error('Error getting reservations for accommodation:', error);\r\n      }\r\n    );\r\n\r\n    this.cdr.detectChanges();\r\n  }\r\n  openSnackBar(message: string) {\r\n    this.snackBar.open(message, 'OK', {\r\n      duration: 4000,\r\n    });\r\n  }\r\n\r\n  approveRequest(reservation:Reservation){\r\n\r\n      this.reservationService.confirmReservation(reservation.id).subscribe(\r\n          () => {\r\n              console.log('Reservation confirmed successfully.');\r\n          },\r\n          error => {\r\n          }\r\n      );\r\n\r\n      this.openSnackBar('Sucessfully approved reservation request!');\r\n\r\n    // const sampleMessage: Message = {\r\n    //   fromId: this.ownerId,\r\n    //   toId: reservation.user.username,\r\n    //   message: 'Successfully approved reservation in '+reservation.accommodation.name+' accommodation!',\r\n    // };\r\n\r\n    // this.socketApiService.sendMessageUsingRest(sampleMessage);\r\n\r\n      this.rejectOverlappingRequests(reservation.timeSlot.startDate,reservation.timeSlot.endDate,reservation.id);\r\n      this.pendingReservations = this.pendingReservations?.filter(r => r.id !== reservation.id);\r\n      reservation.status=ReservationStatusEnum.APPROVED;\r\n      this.approvedReservations?.push(reservation);\r\n      this.dataSourcePending.data = this.pendingReservations;\r\n      this.dataSourceApproved.data = this.approvedReservations;\r\n  }\r\n\r\n  rejectRequest(reservation:Reservation){\r\n    this.reservationService.rejectReservation(reservation.id).subscribe(\r\n      () => {\r\n          console.log('Reservation rejected successfully.');\r\n          \r\n      },\r\n      error => {\r\n      }\r\n  );\r\n  this.openSnackBar('Sucessfully rejected reservation request!');\r\n\r\n  this.pendingReservations = this.pendingReservations.filter(r => r.id !== reservation.id);\r\n  reservation.status=ReservationStatusEnum.REJECTED;\r\n  this.rejectedReservations.push(reservation);\r\n\r\n  this.dataSourcePending.data = this.pendingReservations;\r\n  this.dataSourceRejected.data = this.rejectedReservations;\r\n    \r\n  }\r\n\r\n  rejectOverlappingRequests(startDate:Date,endDate:Date,reservationId:number|undefined){\r\n    const overlappingReservations: Reservation[] = [];\r\n    for (const reservation of this.pendingReservations) {\r\n      if (reservation.id!=reservationId && !this.checkOverlap(reservation)) {\r\n        overlappingReservations.push(reservation);\r\n      }\r\n    }\r\n    console.log(overlappingReservations)\r\n    for (const reservation of overlappingReservations) {\r\n      this.rejectRequest(reservation);\r\n    }\r\n  }\r\n  checkOverlap(reservation:Reservation): boolean { \r\n\r\n    const newStartDate = new Date(reservation.timeSlot.startDate);\r\n    const newEndDate = new Date(reservation.timeSlot.endDate);\r\n  \r\n    newStartDate.setHours(0, 0, 0, 0);\r\n    newEndDate.setHours(0, 0, 0, 0);\r\n  \r\n    const overlap = this.pendingReservations.some(existingReservation => {\r\n      const existingStartDate = new Date(existingReservation.timeSlot.startDate);\r\n      const existingEndDate = new Date(existingReservation.timeSlot.endDate);\r\n  \r\n      existingStartDate.setHours(0, 0, 0, 0);\r\n      existingEndDate.setHours(0, 0, 0, 0);\r\n  \r\n      console.log('Existing Reservation Start Date:', existingStartDate);\r\n      console.log('Existing Reservation End Date:', existingEndDate);\r\n  \r\n      const overlapStartDate = existingStartDate <= newEndDate && existingEndDate >= newStartDate;\r\n      const overlapEndDate = existingEndDate >= newStartDate && existingStartDate <= newEndDate;\r\n  \r\n      console.log('Overlap Start Date:', overlapStartDate);\r\n      console.log('Overlap End Date:', overlapEndDate);\r\n  \r\n      return overlapStartDate && overlapEndDate;\r\n    });\r\n\r\n    console.log('Overlap:', overlap);\r\n    return !overlap;\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"mat-elevation-z8\">\r\n    <h2 style=\"margin-left: 10px;\">Pending Reservations</h2>\r\n    <table mat-table [dataSource]=\"dataSourcePending\" matSort>\r\n      \r\n    \r\n      <ng-container matColumnDef=\"Id\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> Id </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.id}} </td>\r\n      </ng-container>\r\n  \r\n      <ng-container matColumnDef=\"Start Date\">\r\n        <th mat-header-cell *matHeaderCellDef> Start Date</th>\r\n        <td mat-cell *matCellDef=\"let element\"> \r\n          {{element.timeSlot.startDate | date: 'shortDate'}}\r\n        </td>\r\n      </ng-container>\r\n  \r\n      <ng-container matColumnDef=\"End Date\">\r\n        <th mat-header-cell *matHeaderCellDef> End Date </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.timeSlot.endDate | date: 'shortDate'}}</td>\r\n      </ng-container>\r\n  \r\n      <ng-container matColumnDef=\"Guests number\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Guests number</th>\r\n        <td mat-cell *matCellDef=\"let element\"> \r\n          {{element.numberOfGuests}}\r\n          </td>\r\n      </ng-container>\r\n      \r\n      <ng-container matColumnDef=\"Status\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Status </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.status}} </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"Guest name\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Guest name </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.user.username}} </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"Num of cancellations\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Num of cancellations </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{numberOfCancelledReservations(element.user.username)}} </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"actions\">\r\n        <th mat-header-cell *matHeaderCellDef> Actions </th>\r\n        <td mat-cell *matCellDef=\"let element\">\r\n          <button mat-raised-button color=\"primary\"(click)=\"approveRequest(element)\" style=\"margin-right: 20px;\">\r\n            Approve\r\n          </button>\r\n      \r\n          <button mat-raised-button color=\"warn\" (click)=\"rejectRequest(element)\">\r\n            Reject\r\n          </button>\r\n        </td>\r\n      </ng-container>\r\n    \r\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumnsPending\"></tr>\r\n      <tr mat-row *matRowDef=\"let row; columns: displayedColumnsPending;\"></tr>\r\n    </table>\r\n\r\n    <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\"\r\n                   showFirstLastButtons\r\n                   aria-label=\"Select page of periodic elements\">\r\n    </mat-paginator>\r\n  </div>\r\n\r\n\r\n  <div class=\"mat-elevation-z8\">\r\n    <h2 style=\"margin-left: 10px;\">Approved reservations</h2>\r\n    <table mat-table [dataSource]=\"dataSourceApproved\" matSort>\r\n      \r\n    \r\n      <ng-container matColumnDef=\"Id\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> Id </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.id}} </td>\r\n      </ng-container>\r\n  \r\n      <ng-container matColumnDef=\"Start Date\">\r\n        <th mat-header-cell *matHeaderCellDef> Start Date</th>\r\n        <td mat-cell *matCellDef=\"let element\"> \r\n          {{element.timeSlot.startDate | date: 'shortDate'}}\r\n        </td>\r\n      </ng-container>\r\n  \r\n      <ng-container matColumnDef=\"End Date\">\r\n        <th mat-header-cell *matHeaderCellDef> End Date </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.timeSlot.endDate | date: 'shortDate'}}</td>\r\n      </ng-container>\r\n  \r\n      <ng-container matColumnDef=\"Guests number\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Guests number</th>\r\n        <td mat-cell *matCellDef=\"let element\"> \r\n          {{element.numberOfGuests}}\r\n          </td>\r\n      </ng-container>\r\n      \r\n      <ng-container matColumnDef=\"Status\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Status </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.status}} </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"Guest name\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Guest name </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.user.username}} </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"Num of cancellations\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Num of cancellations </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{numberOfCancelledReservations(element.user.username)}} </td>\r\n      </ng-container>\r\n\r\n    \r\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n      <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n    </table>\r\n\r\n    <!-- <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\"\r\n                   showFirstLastButtons\r\n                   aria-label=\"Select page of periodic elements\">\r\n    </mat-paginator> -->\r\n  </div>\r\n\r\n  <div class=\"mat-elevation-z8\">\r\n    <h2 style=\"margin-left: 10px;\">Rejected Reservations</h2>\r\n    <table mat-table [dataSource]=\"dataSourceRejected\" matSort>\r\n      \r\n    \r\n      <ng-container matColumnDef=\"Id\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> Id </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.id}} </td>\r\n      </ng-container>\r\n  \r\n      <ng-container matColumnDef=\"Start Date\">\r\n        <th mat-header-cell *matHeaderCellDef> Start Date</th>\r\n        <td mat-cell *matCellDef=\"let element\"> \r\n          {{element.timeSlot.startDate | date: 'shortDate'}}\r\n        </td>\r\n      </ng-container>\r\n  \r\n      <ng-container matColumnDef=\"End Date\">\r\n        <th mat-header-cell *matHeaderCellDef> End Date </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.timeSlot.endDate | date: 'shortDate'}}</td>\r\n      </ng-container>\r\n  \r\n      <ng-container matColumnDef=\"Guests number\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Guests number</th>\r\n        <td mat-cell *matCellDef=\"let element\"> \r\n          {{element.numberOfGuests}}\r\n          </td>\r\n      </ng-container>\r\n      \r\n      <ng-container matColumnDef=\"Status\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Status </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.status}} </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"Guest name\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Guest name </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.user.username}} </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"Num of cancellations\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>Num of cancellations </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{numberOfCancelledReservations(element.user.username)}} </td>\r\n      </ng-container>\r\n    \r\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n      <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n    </table>\r\n    <form [formGroup]=\"searchReservationsForm\">\r\n      <div class=\"data-container\">\r\n        <h2 class=\"register-header\">Search reservations</h2>\r\n        <mat-form-field appearance=\"outline\">\r\n          <mat-label>Accommodation name:</mat-label>\r\n          <input matInput placeholder=\"Accommodation name:\" formControlName=\"accName\">\r\n          <mat-error *ngIf=\"searchReservationsForm.get('accName')?.hasError('required')\">This field is required</mat-error>\r\n        </mat-form-field>\r\n    \r\n        <div class=\"date-picker-container\">\r\n          <mat-form-field>\r\n            <mat-label>Choose a start date</mat-label>\r\n            <input matInput [matDatepicker]=\"startPicker\" formControlName=\"startDate\">\r\n            <mat-hint>MM/DD/YYYY</mat-hint>\r\n            <mat-datepicker-toggle matIconSuffix [for]=\"startPicker\"></mat-datepicker-toggle>\r\n            <mat-datepicker #startPicker></mat-datepicker>\r\n          </mat-form-field>\r\n        \r\n          <mat-form-field>\r\n            <mat-label>Choose an end date</mat-label>\r\n            <input matInput [matDatepicker]=\"endPicker\" formControlName=\"endDate\">\r\n            <mat-hint>MM/DD/YYYY</mat-hint>\r\n            <mat-datepicker-toggle matIconSuffix [for]=\"endPicker\"></mat-datepicker-toggle>\r\n            <mat-datepicker #endPicker></mat-datepicker>\r\n          </mat-form-field>\r\n        </div>\r\n    \r\n        <button (click)=\"searchReservations()\" mat-button style=\"background-color: #1e88e5; color: white; margin-top: 4%; margin-right: 8px;\">Search</button>\r\n        <button (click)=\"showAll()\" mat-button style=\"background-color: #1e88e5; color: white; margin-top: 4%; margin-left: 8px;\">Show all</button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}