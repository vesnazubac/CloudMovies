{"ast":null,"code":"import { LayoutModule } from '@angular/cdk/layout';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatListModule } from '@angular/material/list';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { MatTableModule } from '@angular/material/table';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport { RoleEnum } from 'src/app/models/userEnums.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/auth/auth.service\";\nimport * as i3 from \"../review.service\";\nimport * as i4 from \"@angular/material/snack-bar\";\nimport * as i5 from \"@angular/common\";\nfunction OwnerShowReviewsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 3)(2, \"p\")(3, \"strong\");\n    i0.ɵɵtext(4, \"User ID:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\")(7, \"strong\");\n    i0.ɵɵtext(8, \"Reviewing \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\")(11, \"strong\");\n    i0.ɵɵtext(12, \"Comment:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\")(15, \"strong\");\n    i0.ɵɵtext(16, \"Grade:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\")(19, \"strong\");\n    i0.ɵɵtext(20, \"Date:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function OwnerShowReviewsComponent_div_3_Template_button_click_23_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const review_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.reportReview(review_r1, review_r1.id));\n    });\n    i0.ɵɵtext(24, \"Report\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const review_r1 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", review_r1.userId, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", review_r1.type, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", review_r1.comment, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", review_r1.grade, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(22, 5, review_r1.dateTime, \"medium\"), \"\");\n  }\n}\nexport class OwnerShowReviewsComponent {\n  constructor(route, router, authService, reviewService, cdr, snackBar) {\n    this.route = route;\n    this.router = router;\n    this.authService = authService;\n    this.reviewService = reviewService;\n    this.cdr = cdr;\n    this.snackBar = snackBar;\n    this.accessToken = localStorage.getItem('user');\n    this.helper = new JwtHelperService();\n    this.decodedToken = this.helper.decodeToken(this.accessToken);\n    this.loggedInUserId = this.decodedToken.sub;\n  }\n  ngOnInit() {\n    this.authService.userState.subscribe(result => {\n      if (result != null) {\n        this.role = result.role;\n      } else {\n        this.role = RoleEnum.UNAUTHENTICATED;\n      }\n      this.cdr.detectChanges();\n    });\n    this.reviewService.findByOwnerId(this.loggedInUserId).subscribe(reviews => {\n      this.ownerReviews = reviews;\n    }, error => {\n      console.error('Error fetching accommodation:', error);\n    });\n  }\n  reportReview(review, id) {\n    const reviewPut = {\n      userId: review.userId,\n      type: review.type,\n      comment: review.comment,\n      accommodationId: review.accommodationId,\n      ownerId: review.ownerId,\n      grade: review.grade,\n      dateTime: review.dateTime,\n      deleted: review.deleted,\n      reported: true,\n      status: review.status\n    };\n    if (id != undefined) {\n      console.log(\"ID JE \", id);\n      this.reviewService.update(reviewPut, id).subscribe(updatedReview => {\n        // Handle the updated review, if needed\n        console.log('Review successfully updated:', updatedReview);\n        // Show the snackbar message\n      }, error => {\n        // Handle any errors during the update process\n        console.error('Error updating review:', error);\n      });\n    }\n    this.snackBar.open(\"Successfully reported\", 'Close', {\n      duration: 3000 // Snackbar will be displayed for 3 seconds\n    });\n  }\n  static #_ = this.ɵfac = function OwnerShowReviewsComponent_Factory(t) {\n    return new (t || OwnerShowReviewsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ReviewService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i4.MatSnackBar));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OwnerShowReviewsComponent,\n    selectors: [[\"app-owner-show-reviews\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 4,\n    vars: 1,\n    consts: [[1, \"example-container\"], [1, \"register-header\"], [4, \"ngFor\", \"ngForOf\"], [1, \"review\"], [1, \"dugme-report\", 3, \"click\"]],\n    template: function OwnerShowReviewsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n        i0.ɵɵtext(2, \"My ratings\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, OwnerShowReviewsComponent_div_3_Template, 25, 8, \"div\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.ownerReviews);\n      }\n    },\n    dependencies: [MatChipsModule, MatPaginatorModule, MatIconModule, MatTableModule, MatInputModule, MatFormFieldModule, MatButtonModule, MatListModule, CommonModule, i5.NgForOf, i5.DatePipe, LayoutModule],\n    styles: [\".example-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]    + mat-form-field[_ngcontent-%COMP%] {\\n    margin-left: 8px;\\n  }\\n\\n  .example-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    margin-top: 30px;\\n    flex-direction: column;\\n    align-items: center;\\n  }\\n \\n  \\n  .register-header[_ngcontent-%COMP%] {\\n    color: #007bff; \\n    font-size: 24px;\\n    margin-bottom: 20px;\\n  }\\n  .error-message[_ngcontent-%COMP%] {\\n    color: red;\\n    margin-top: 15px;\\n  }\\n\\n  .example-form[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n  }\\n  \\n  .form-field[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n    margin-bottom: 10px;\\n  }\\n  \\n  .form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n    margin-right: 10px;\\n  }\\n  .other-fields[_ngcontent-%COMP%]{\\n    width: 250px;\\n  }\\n\\n  .details-container[_ngcontent-%COMP%] {\\n    max-width: 100%;\\n    margin: auto;\\n    padding: 25px;\\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n    background-color: #fff;\\n    display: flex;\\n  }\\n  .heading[_ngcontent-%COMP%]{\\n    margin-right: 20px;\\n    flex:1;\\n  }\\n  .content[_ngcontent-%COMP%] {\\n    margin-top: 50px;\\n    flex: 2;\\n  }\\n  img[_ngcontent-%COMP%] {\\n    width: 600px;\\n    height: auto;\\n    margin-bottom: 15px;\\n  }\\n  .custom-chip[_ngcontent-%COMP%] {\\n    display: inline-block;\\n    padding: 8px 12px;\\n    margin: 4px;\\n    background-color: #e0e0e0;\\n    border-radius: 4px;\\n    font-size: 14px;\\n    color: #333;\\n  }\\n  \\n  h2[_ngcontent-%COMP%] {\\n    color: #333;\\n    font-size: 30px;\\n  }\\n  \\n  p[_ngcontent-%COMP%] {\\n    margin-bottom: 15px;\\n    font-size: 20px;\\n  }\\n  \\n  button[_ngcontent-%COMP%] {\\n    background-color: #007bff;\\n    color: #fff;\\n    padding: 8px 16px;\\n    border: none;\\n    border-radius: 4px;\\n    cursor: pointer;\\n    transition: background-color 0.3s ease;\\n  }\\n  \\n  button[_ngcontent-%COMP%]:hover {\\n    background-color: #0056b3;\\n  }\\n\\n  .image-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-wrap: nowrap; \\n\\n    overflow-x: auto; \\n\\n    margin-top: 15px;\\n  }\\n  \\n  .image-thumbnail[_ngcontent-%COMP%] {\\n    width: 200px; \\n\\n    height: 200px; \\n\\n    background-size: cover;\\n    background-position: center;\\n    margin-right: 10px; \\n\\n    border: 1px solid #ddd; \\n\\n    cursor: pointer;\\n    transition: border-color 0.3s ease;\\n  }\\n  \\n  .image-thumbnail[_ngcontent-%COMP%]:hover {\\n    border-color: #007bff; \\n\\n  }\\n\\n \\n  \\n  .review[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    margin: 5px 0;\\n  }\\n  \\n  .review[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n    padding: 20px;\\n    font-weight: bold;\\n    margin-right: 5px;\\n  }\\n  .mat-elevation-z8[_ngcontent-%COMP%]{\\n    margin:auto;\\n    text-align:center;\\n    width: 80%;\\n    margin-top: 2%;\\n    padding:1%;\\n    box-shadow: none;\\n}\\n  .data-container[_ngcontent-%COMP%] {\\n    max-width: 80%;\\n    margin: 20px auto;\\n    padding: 20px;\\n    border: 1px solid #ccc;\\n    border-radius: 8px;\\n  }\\n\\n  .date-picker-container[_ngcontent-%COMP%] {\\n    text-align: center;\\n    width: 90%;\\n    margin: 0 auto;  \\n    display: flex;\\n    justify-content: space-between;\\n    align-items: flex-end;\\n    gap: 1%; \\n    margin-bottom: 2%;\\n  }\\n.dugme-report[_ngcontent-%COMP%]{\\n    margin-top: 10px; \\n\\n    margin-left: auto;\\n  }\\n\\n  .review[_ngcontent-%COMP%] {\\n    border: 1px solid #ddd;\\n    border-radius: 8px;\\n    padding: 10px;\\n    margin-bottom: 10px;\\n    width: 700px;\\n    display: flex;\\n  flex-direction: column;\\n  }\\n  \\n  \\n\\n  \\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcmF0aW5nL293bmVyLXNob3ctcmV2aWV3cy9vd25lci1zaG93LXJldmlld3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdCQUFnQjtFQUNsQjs7RUFFQTtJQUNFLGFBQWE7SUFDYixnQkFBZ0I7SUFDaEIsc0JBQXNCO0lBQ3RCLG1CQUFtQjtFQUNyQjs7O0VBR0E7SUFDRSxjQUFjO0lBQ2QsZUFBZTtJQUNmLG1CQUFtQjtFQUNyQjtFQUNBO0lBQ0UsVUFBVTtJQUNWLGdCQUFnQjtFQUNsQjs7RUFFQTtJQUNFLGFBQWE7SUFDYixzQkFBc0I7RUFDeEI7O0VBRUE7SUFDRSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLGtCQUFrQjtFQUNwQjtFQUNBO0lBQ0UsWUFBWTtFQUNkOztFQUVBO0lBQ0UsZUFBZTtJQUNmLFlBQVk7SUFDWixhQUFhO0lBQ2Isd0NBQXdDO0lBQ3hDLHNCQUFzQjtJQUN0QixhQUFhO0VBQ2Y7RUFDQTtJQUNFLGtCQUFrQjtJQUNsQixNQUFNO0VBQ1I7RUFDQTtJQUNFLGdCQUFnQjtJQUNoQixPQUFPO0VBQ1Q7RUFDQTtJQUNFLFlBQVk7SUFDWixZQUFZO0lBQ1osbUJBQW1CO0VBQ3JCO0VBQ0E7SUFDRSxxQkFBcUI7SUFDckIsaUJBQWlCO0lBQ2pCLFdBQVc7SUFDWCx5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixXQUFXO0VBQ2I7O0VBRUE7SUFDRSxXQUFXO0lBQ1gsZUFBZTtFQUNqQjs7RUFFQTtJQUNFLG1CQUFtQjtJQUNuQixlQUFlO0VBQ2pCOztFQUVBO0lBQ0UseUJBQXlCO0lBQ3pCLFdBQVc7SUFDWCxpQkFBaUI7SUFDakIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2Ysc0NBQXNDO0VBQ3hDOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCOztFQUVBO0lBQ0UsYUFBYTtJQUNiLGlCQUFpQixFQUFFLHVDQUF1QztJQUMxRCxnQkFBZ0IsRUFBRSx5Q0FBeUM7SUFDM0QsZ0JBQWdCO0VBQ2xCOztFQUVBO0lBQ0UsWUFBWSxFQUFFLGlEQUFpRDtJQUMvRCxhQUFhLEVBQUUsa0RBQWtEO0lBQ2pFLHNCQUFzQjtJQUN0QiwyQkFBMkI7SUFDM0Isa0JBQWtCLEVBQUUsbURBQW1EO0lBQ3ZFLHNCQUFzQixFQUFFLHVDQUF1QztJQUMvRCxlQUFlO0lBQ2Ysa0NBQWtDO0VBQ3BDOztFQUVBO0lBQ0UscUJBQXFCLEVBQUUsb0NBQW9DO0VBQzdEOzs7O0VBSUE7SUFDRSxhQUFhO0VBQ2Y7O0VBRUE7SUFDRSxhQUFhO0lBQ2IsaUJBQWlCO0lBQ2pCLGlCQUFpQjtFQUNuQjtFQUNBO0lBQ0UsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixVQUFVO0lBQ1YsY0FBYztJQUNkLFVBQVU7SUFDVixnQkFBZ0I7QUFDcEI7RUFDRTtJQUNFLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixrQkFBa0I7RUFDcEI7O0VBRUE7SUFDRSxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLGNBQWM7SUFDZCxhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLHFCQUFxQjtJQUNyQixPQUFPO0lBQ1AsaUJBQWlCO0VBQ25CO0FBQ0Y7SUFDSSxnQkFBZ0IsRUFBRSxvRUFBb0U7SUFDdEYsaUJBQWlCO0VBQ25COztFQUVBO0lBQ0Usc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFlBQVk7SUFDWixhQUFhO0VBQ2Ysc0JBQXNCO0VBQ3RCIiwic291cmNlc0NvbnRlbnQiOlsiLmV4YW1wbGUtY29udGFpbmVyIG1hdC1mb3JtLWZpZWxkICsgbWF0LWZvcm0tZmllbGQge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDhweDtcclxuICB9XHJcblxyXG4gIC5leGFtcGxlLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgbWFyZ2luLXRvcDogMzBweDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIH1cclxuIFxyXG4gIFxyXG4gIC5yZWdpc3Rlci1oZWFkZXIge1xyXG4gICAgY29sb3I6ICMwMDdiZmY7IFxyXG4gICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICB9XHJcbiAgLmVycm9yLW1lc3NhZ2Uge1xyXG4gICAgY29sb3I6IHJlZDtcclxuICAgIG1hcmdpbi10b3A6IDE1cHg7XHJcbiAgfVxyXG5cclxuICAuZXhhbXBsZS1mb3JtIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIH1cclxuICBcclxuICAuZm9ybS1maWVsZCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5mb3JtLWZpZWxkIGxhYmVsIHtcclxuICAgIG1hcmdpbi1yaWdodDogMTBweDtcclxuICB9XHJcbiAgLm90aGVyLWZpZWxkc3tcclxuICAgIHdpZHRoOiAyNTBweDtcclxuICB9XHJcblxyXG4gIC5kZXRhaWxzLWNvbnRhaW5lciB7XHJcbiAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgICBwYWRkaW5nOiAyNXB4O1xyXG4gICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gIH1cclxuICAuaGVhZGluZ3tcclxuICAgIG1hcmdpbi1yaWdodDogMjBweDtcclxuICAgIGZsZXg6MTtcclxuICB9XHJcbiAgLmNvbnRlbnQge1xyXG4gICAgbWFyZ2luLXRvcDogNTBweDtcclxuICAgIGZsZXg6IDI7XHJcbiAgfVxyXG4gIGltZyB7XHJcbiAgICB3aWR0aDogNjAwcHg7XHJcbiAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG4gIH1cclxuICAuY3VzdG9tLWNoaXAge1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgcGFkZGluZzogOHB4IDEycHg7XHJcbiAgICBtYXJnaW46IDRweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlMGUwZTA7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBjb2xvcjogIzMzMztcclxuICB9XHJcbiAgXHJcbiAgaDIge1xyXG4gICAgY29sb3I6ICMzMzM7XHJcbiAgICBmb250LXNpemU6IDMwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIHAge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICB9XHJcbiAgXHJcbiAgYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIHBhZGRpbmc6IDhweCAxNnB4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2U7XHJcbiAgfVxyXG4gIFxyXG4gIGJ1dHRvbjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1NmIzO1xyXG4gIH1cclxuXHJcbiAgLmltYWdlLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC13cmFwOiBub3dyYXA7IC8qIEVuc3VyZSBpbWFnZXMgc3RheSBpbiBhIHNpbmdsZSByb3cgKi9cclxuICAgIG92ZXJmbG93LXg6IGF1dG87IC8qIEFsbG93IGhvcml6b250YWwgc2Nyb2xsaW5nIGlmIG5lZWRlZCAqL1xyXG4gICAgbWFyZ2luLXRvcDogMTVweDtcclxuICB9XHJcbiAgXHJcbiAgLmltYWdlLXRodW1ibmFpbCB7XHJcbiAgICB3aWR0aDogMjAwcHg7IC8qIEFkanVzdCB0aGUgd2lkdGggb2YgZWFjaCB0aHVtYm5haWwgYXMgbmVlZGVkICovXHJcbiAgICBoZWlnaHQ6IDIwMHB4OyAvKiBBZGp1c3QgdGhlIGhlaWdodCBvZiBlYWNoIHRodW1ibmFpbCBhcyBuZWVkZWQgKi9cclxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7IC8qIEFkanVzdCB0aGUgbWFyZ2luIGJldHdlZW4gdGh1bWJuYWlscyBhcyBuZWVkZWQgKi9cclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IC8qIEFkZCBhIGJvcmRlciBmb3IgYmV0dGVyIHZpc2liaWxpdHkgKi9cclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjNzIGVhc2U7XHJcbiAgfVxyXG4gIFxyXG4gIC5pbWFnZS10aHVtYm5haWw6aG92ZXIge1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjMDA3YmZmOyAvKiBIaWdobGlnaHQgYm9yZGVyIGNvbG9yIG9uIGhvdmVyICovXHJcbiAgfVxyXG5cclxuIFxyXG4gIFxyXG4gIC5yZXZpZXcgcCB7XHJcbiAgICBtYXJnaW46IDVweCAwO1xyXG4gIH1cclxuICBcclxuICAucmV2aWV3IHN0cm9uZyB7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDVweDtcclxuICB9XHJcbiAgLm1hdC1lbGV2YXRpb24tejh7XHJcbiAgICBtYXJnaW46YXV0bztcclxuICAgIHRleHQtYWxpZ246Y2VudGVyO1xyXG4gICAgd2lkdGg6IDgwJTtcclxuICAgIG1hcmdpbi10b3A6IDIlO1xyXG4gICAgcGFkZGluZzoxJTtcclxuICAgIGJveC1zaGFkb3c6IG5vbmU7XHJcbn1cclxuICAuZGF0YS1jb250YWluZXIge1xyXG4gICAgbWF4LXdpZHRoOiA4MCU7XHJcbiAgICBtYXJnaW46IDIwcHggYXV0bztcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIH1cclxuXHJcbiAgLmRhdGUtcGlja2VyLWNvbnRhaW5lciB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogOTAlO1xyXG4gICAgbWFyZ2luOiAwIGF1dG87ICBcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XHJcbiAgICBnYXA6IDElOyBcclxuICAgIG1hcmdpbi1ib3R0b206IDIlO1xyXG4gIH1cclxuLmR1Z21lLXJlcG9ydHtcclxuICAgIG1hcmdpbi10b3A6IDEwcHg7IC8qIEFkanVzdCBhcyBuZWVkZWQgZm9yIHNwYWNpbmcgYmV0d2VlbiB0aGUgY29udGVudCBhbmQgdGhlIGJ1dHRvbiAqL1xyXG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgfVxyXG5cclxuICAucmV2aWV3IHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAgIHdpZHRoOiA3MDBweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICB9XHJcbiAgXHJcbiAgXHJcblxyXG4gIFxyXG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["LayoutModule","CommonModule","MatButtonModule","MatChipsModule","MatFormFieldModule","MatIconModule","MatInputModule","MatListModule","MatPaginatorModule","MatTableModule","JwtHelperService","RoleEnum","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","OwnerShowReviewsComponent_div_3_Template_button_click_23_listener","restoredCtx","ɵɵrestoreView","_r3","review_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","reportReview","id","ɵɵadvance","ɵɵtextInterpolate1","userId","type","comment","grade","ɵɵpipeBind2","dateTime","OwnerShowReviewsComponent","constructor","route","router","authService","reviewService","cdr","snackBar","accessToken","localStorage","getItem","helper","decodedToken","decodeToken","loggedInUserId","sub","ngOnInit","userState","subscribe","result","role","UNAUTHENTICATED","detectChanges","findByOwnerId","reviews","ownerReviews","error","console","review","reviewPut","accommodationId","ownerId","deleted","reported","status","undefined","log","update","updatedReview","open","duration","_","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","AuthService","i3","ReviewService","ChangeDetectorRef","i4","MatSnackBar","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","OwnerShowReviewsComponent_Template","rf","ctx","ɵɵtemplate","OwnerShowReviewsComponent_div_3_Template","ɵɵproperty","i5","NgForOf","DatePipe","styles"],"sources":["C:\\Users\\USER\\Desktop\\FrontMovies\\ProjectApp\\src\\app\\rating\\owner-show-reviews\\owner-show-reviews.component.ts","C:\\Users\\USER\\Desktop\\FrontMovies\\ProjectApp\\src\\app\\rating\\owner-show-reviews\\owner-show-reviews.component.html"],"sourcesContent":["import { LayoutModule } from '@angular/cdk/layout';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { ActivatedRoute, ParamMap, Router } from '@angular/router';\r\nimport { JwtHelperService } from '@auth0/angular-jwt';\r\nimport { AccommodationService } from 'src/app/accommodation/accommodation.service';\r\nimport { Review } from 'src/app/accommodation/accommodation/model/review.model';\r\nimport { AuthService } from 'src/app/auth/auth.service';\r\nimport { ReservationComponent } from 'src/app/reservation/reservation.component';\r\nimport { ReviewService } from '../review.service';\r\nimport { RoleEnum } from 'src/app/models/userEnums.model';\r\nimport { ReviewPutDTO } from 'src/app/models/dtos/reviewPutDTO.model';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\n\r\n\r\n@Component({\r\n  selector: 'app-owner-show-reviews',\r\n  templateUrl: './owner-show-reviews.component.html',\r\n  styleUrls: ['./owner-show-reviews.component.css'],\r\n  standalone: true,\r\n    imports: [MatChipsModule,MatPaginatorModule, MatIconModule,MatTableModule, \r\n      MatInputModule, MatFormFieldModule, MatButtonModule, MatListModule,\r\n       CommonModule, LayoutModule, ReservationComponent]\r\n})\r\nexport class OwnerShowReviewsComponent implements OnInit{\r\n  role: RoleEnum ;\r\n  ownerReviews:Review[];\r\n  accessToken: any = localStorage.getItem('user');\r\n  helper = new JwtHelperService();\r\n  decodedToken = this.helper.decodeToken(this.accessToken);\r\n  loggedInUserId=this.decodedToken.sub;\r\n  constructor(\r\n    private route:ActivatedRoute,\r\n    private router:Router,\r\n    private authService: AuthService,\r\n    private reviewService:ReviewService,\r\n    private cdr: ChangeDetectorRef,\r\n    private snackBar: MatSnackBar\r\n  ){}\r\n  ngOnInit(): void {\r\n    this.authService.userState.subscribe((result) => {\r\n      if(result != null){\r\n        this.role = result.role;\r\n      }else{\r\n       this.role=RoleEnum.UNAUTHENTICATED;\r\n      }\r\n     this.cdr.detectChanges();\r\n    })\r\n\r\n  \r\n      this.reviewService.findByOwnerId(this.loggedInUserId).subscribe(\r\n        (reviews) => {\r\n         this.ownerReviews=reviews;\r\n        },\r\n        (error) => {\r\n          console.error('Error fetching accommodation:', error);\r\n        }\r\n      );\r\n   \r\n  }\r\n  reportReview(review:Review,id:number|undefined):void{\r\n    const reviewPut: ReviewPutDTO = {\r\n      userId: review.userId,\r\n      type: review.type,\r\n      comment: review.comment,\r\n      accommodationId: review.accommodationId,\r\n      ownerId: review.ownerId,\r\n      grade: review.grade,\r\n      dateTime: review.dateTime,\r\n      deleted: review.deleted,\r\n      reported: true,\r\n      status: review.status\r\n    };\r\n    if(id!=undefined){\r\n      console.log(\"ID JE \" , id)\r\n      this.reviewService.update(reviewPut, id).subscribe(\r\n        updatedReview => {\r\n          // Handle the updated review, if needed\r\n          console.log('Review successfully updated:', updatedReview);\r\n    \r\n          // Show the snackbar message\r\n         \r\n        },\r\n        error => {\r\n          // Handle any errors during the update process\r\n          console.error('Error updating review:', error);\r\n        }\r\n      );\r\n    }\r\n   \r\n    this.snackBar.open(\"Successfully reported\", 'Close', {\r\n      duration: 3000, // Snackbar will be displayed for 3 seconds\r\n    });\r\n\r\n  }\r\n\r\n\r\n\r\n  \r\n\r\n}\r\n","\r\n<div class=\"example-container\">\r\n    <h2 class=\"register-header\">My ratings</h2>\r\n\r\n    \r\n    <div *ngFor=\"let review of this.ownerReviews\">\r\n      <div class=\"review\">\r\n        <p><strong>User ID:</strong> {{ review.userId }}</p>\r\n        <p><strong>Reviewing </strong> {{ review.type }}</p>\r\n        <p><strong>Comment:</strong> {{ review.comment }}</p>\r\n        <p><strong>Grade:</strong> {{ review.grade }}</p>\r\n        <p><strong>Date:</strong> {{ review.dateTime | date:'medium' }}</p>\r\n        <button class=\"dugme-report\" (click)=\"reportReview(review,review.id)\">Report</button>\r\n      </div>\r\n    </div>\r\n    \r\n  </div>\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}