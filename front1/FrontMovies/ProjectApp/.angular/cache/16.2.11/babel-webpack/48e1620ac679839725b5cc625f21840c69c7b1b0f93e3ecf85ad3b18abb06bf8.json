{"ast":null,"code":"import { JwtHelperService } from '@auth0/angular-jwt';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatSort } from '@angular/material/sort';\nimport { CommonModule } from '@angular/common';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { LayoutModule } from '../layout/layout.module';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatNativeDateModule } from '@angular/material/core';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { ReservationStatusEnum } from '../models/enums/reservationStatusEnum';\nimport { MatTableDataSource, MatTableModule } from '@angular/material/table';\nimport { ProfitData } from './profitData.model';\nimport { ProfitData2 } from './profitData2.model';\nimport html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../accommodation/accommodation.service\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../accommodation/accommodation-data.service.module\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"../auth/auth.service\";\nimport * as i7 from \"../user.service\";\nimport * as i8 from \"../models/reservation/reservation.service\";\nimport * as i9 from \"@angular/material/table\";\nimport * as i10 from \"@angular/common\";\nimport * as i11 from \"@angular/material/form-field\";\nimport * as i12 from \"@angular/material/input\";\nimport * as i13 from \"@angular/material/button\";\nimport * as i14 from \"@angular/material/datepicker\";\nfunction OwnerReportComponent_th_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 27);\n    i0.ɵɵtext(1, \"Accommodation ID\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OwnerReportComponent_td_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r18.accommodationId);\n  }\n}\nfunction OwnerReportComponent_th_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 27);\n    i0.ɵɵtext(1, \"Accommodation Name\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OwnerReportComponent_td_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r19 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r19.name);\n  }\n}\nfunction OwnerReportComponent_th_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 27);\n    i0.ɵɵtext(1, \"Profit\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OwnerReportComponent_td_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r20 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, row_r20.profit));\n  }\n}\nfunction OwnerReportComponent_tr_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 29);\n  }\n}\nfunction OwnerReportComponent_tr_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 30);\n  }\n}\nfunction OwnerReportComponent_th_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 27);\n    i0.ɵɵtext(1, \"Month of the year\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OwnerReportComponent_td_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r22 = ctx.$implicit;\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r11.months[row_r22.month]);\n  }\n}\nfunction OwnerReportComponent_th_66_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 27);\n    i0.ɵɵtext(1, \"Num of reservations\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OwnerReportComponent_td_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r23 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r23.numOfReservations);\n  }\n}\nfunction OwnerReportComponent_th_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 27);\n    i0.ɵɵtext(1, \"Profit\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OwnerReportComponent_td_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r24 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, row_r24.profit));\n  }\n}\nfunction OwnerReportComponent_tr_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 29);\n  }\n}\nfunction OwnerReportComponent_tr_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 30);\n  }\n}\nexport class OwnerReportComponent {\n  constructor(service, snackBar, fb, dataService, router, authService, cdr, userService, reservationService) {\n    this.service = service;\n    this.snackBar = snackBar;\n    this.fb = fb;\n    this.dataService = dataService;\n    this.router = router;\n    this.authService = authService;\n    this.cdr = cdr;\n    this.userService = userService;\n    this.reservationService = reservationService;\n    this.accessToken = localStorage.getItem('user');\n    this.helper = new JwtHelperService();\n    this.decodedToken = this.helper.decodeToken(this.accessToken);\n    this.loggedInUserId = this.decodedToken.sub;\n    this.accommodationList = [];\n    this.ownerAccommodations = [];\n    this.accommodationProfit = {};\n    this.allReservations = [];\n    this.accommodationReservations = [];\n    this.numReservationsMonth = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    this.profitMonth = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    this.profitData = [];\n    this.profitColumns = ['accommodationId', 'accName', 'profit'];\n    this.profitDataSource = new MatTableDataSource([]);\n    this.profitData2 = [];\n    this.profitColumns2 = ['month', 'numOfReservations', 'profit'];\n    this.profitDataSource2 = new MatTableDataSource([]);\n    this.months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n    this.setDatesForm = this.fb.group({\n      startDate: [null, Validators.required],\n      endDate: [null, Validators.required]\n    }, {\n      validators: this.dateValidator\n    });\n    this.reportForm2 = this.fb.group({\n      accommodationId: [0, {\n        validators: [Validators.required, Validators.pattern('^[0-9]+$'), Validators.min(0)],\n        asyncValidators: [],\n        updateOn: 'blur'\n      }],\n      year: [0, {\n        validators: [Validators.required, Validators.pattern('^[0-9]+$'), Validators.min(0)],\n        asyncValidators: [],\n        updateOn: 'blur'\n      }]\n    });\n  }\n  ngOnInit() {\n    this.service.getAllApproved().subscribe({\n      next: data => {\n        this.accommodationList = data;\n        console.log(this.accommodationList);\n        console.log(this.loggedInUserId);\n        this.initOwnerAccs();\n        console.log(this.ownerAccommodations);\n        console.log(this.accommodationProfit);\n        this.profitDataSource = new MatTableDataSource(this.profitData);\n        this.profitDataSource.paginator = this.paginator;\n        this.profitDataSource.sort = this.sort;\n        this.profitDataSource2 = new MatTableDataSource(this.profitData2);\n        this.profitDataSource2.paginator = this.paginator;\n        this.profitDataSource2.sort = this.sort;\n      },\n      error: _ => {\n        console.log(\"Greska!\");\n      }\n    });\n  }\n  openSnackBar(message) {\n    this.snackBar.open(message, 'OK', {\n      duration: 3000\n    });\n  }\n  dateValidator(formGroup) {\n    const startDate = formGroup.get('startDate')?.value;\n    const endDate = formGroup.get('endDate')?.value;\n    if (startDate && endDate && startDate >= endDate) {\n      formGroup.get('endDate')?.setErrors({\n        dateRange: true\n      });\n    } else {\n      formGroup.get('endDate')?.setErrors(null);\n    }\n    if (startDate && endDate && startDate < new Date()) {\n      formGroup.get('startDate')?.setErrors({\n        pastDate: true\n      });\n    } else {\n      formGroup.get('startDate')?.setErrors(null);\n    }\n    if (endDate && endDate < new Date()) {\n      formGroup.get('endDate')?.setErrors({\n        pastDate: true\n      });\n    } else {\n      formGroup.get('endDate')?.setErrors(null);\n    }\n    return null;\n  }\n  initOwnerAccs() {\n    for (const a of this.accommodationList) {\n      if (a.ownerId == this.loggedInUserId) {\n        this.ownerAccommodations.push(a);\n        if (a.id) {\n          this.accommodationProfit[a.id] = 0;\n          let pd = new ProfitData(a.id, a.name, 0);\n          this.profitData.push(pd);\n        }\n      }\n    }\n  }\n  validateDates() {\n    const startDate = this.setDatesForm.value.startDate;\n    const endDate = this.setDatesForm.value.endDate;\n    const today = new Date();\n    if (startDate == null || endDate == null) {\n      this.openSnackBar('Must enter both dates');\n      return false;\n    }\n    if (startDate >= endDate) {\n      this.openSnackBar('Start date must be before end date.');\n      return false;\n    }\n    return true;\n  }\n  generateReport1() {\n    if (!this.validateDates()) return;\n    for (const pd of this.profitData) {\n      pd.profit = 0;\n    }\n    const startDate = this.setDatesForm.value.startDate;\n    const endDate = this.setDatesForm.value.endDate;\n    this.getAllReservations(() => {\n      console.log(this.allReservations);\n      for (const r of this.allReservations) {\n        const reservationStartDate = new Date(r.timeSlot.startDate);\n        const reservationEndDate = new Date(r.timeSlot.endDate);\n        if (r.accommodation.id && r.status === ReservationStatusEnum.APPROVED && reservationStartDate >= startDate && reservationEndDate <= endDate && r.accommodation.id in this.accommodationProfit) {\n          this.accommodationProfit[r.accommodation.id] += this.calculateTotalPrice(r);\n          for (const pd of this.profitData) {\n            if (pd.accommodationId == r.accommodation.id) {\n              pd.profit += this.calculateTotalPrice(r);\n            }\n          }\n        }\n      }\n    });\n    console.log(this.accommodationProfit);\n    console.log(this.profitData);\n    this.profitDataSource = new MatTableDataSource(this.profitData);\n    this.profitDataSource.paginator = this.paginator;\n    this.profitDataSource.sort = this.sort;\n  }\n  calculateTotalPrice(r) {\n    let ret = this.daysBetween(r.timeSlot.startDate, r.timeSlot.endDate) * r.price;\n    if (r.priceType.toString() === \"PERGUEST\") {\n      console.log(\"USAOOOOOOOOOO\");\n      ret = ret * r.numberOfGuests;\n    }\n    return ret;\n  }\n  daysBetween(arrival, checkout) {\n    const oneDayMilliseconds = 24 * 60 * 60 * 1000;\n    const arrivalTime = new Date(arrival).getTime();\n    const checkoutTime = new Date(checkout).getTime();\n    const timeDifference = checkoutTime - arrivalTime;\n    const daysDifference = Math.round(timeDifference / oneDayMilliseconds);\n    return daysDifference;\n  }\n  getAllReservations(callback) {\n    this.reservationService.getAll().subscribe(reservations => {\n      if (reservations) {\n        this.allReservations = reservations;\n        console.log(this.allReservations);\n        callback();\n      }\n    });\n  }\n  generateReport2() {\n    const accommodationId = this.reportForm2.get('accommodationId')?.value;\n    const year = this.reportForm2.get('year')?.value;\n    if (accommodationId !== null && year !== null && accommodationId !== undefined && year !== undefined) {\n      if (isNaN(accommodationId) || isNaN(year)) {\n        this.openSnackBar('Accommodation ID and Year must be numbers.');\n        return;\n      }\n      let a = false;\n      for (const pd of this.profitData) {\n        if (pd.accommodationId == accommodationId) a = true;\n      }\n      if (!a) {\n        this.openSnackBar('Invalid accommodation!');\n        return;\n      }\n      this.getAllReservationsByAccommodationId(accommodationId, () => {\n        this.profitMonth = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        this.numReservationsMonth = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        this.profitData2.splice(0, this.profitData2.length);\n        for (let i = 0; i < 12; i++) {\n          const profitDataInstance = new ProfitData2(i, 0, 0);\n          this.profitData2.push(profitDataInstance);\n        }\n        console.log(this.accommodationReservations);\n        for (const res of this.accommodationReservations) {\n          const startDate = new Date(res.timeSlot.startDate);\n          console.log(startDate);\n          const startYear = startDate.getFullYear();\n          const startMonth = startDate.getMonth();\n          if (res.status === ReservationStatusEnum.APPROVED && startYear == year) {\n            const totalPrice = this.calculateTotalPrice(res);\n            this.profitMonth[startMonth] += totalPrice;\n            this.numReservationsMonth[startMonth] += 1;\n            this.profitData2[startMonth].numOfReservations += 1;\n            this.profitData2[startMonth].profit += totalPrice;\n          }\n        }\n        console.log(this.profitMonth);\n        console.log(this.numReservationsMonth);\n        console.log(this.profitData2);\n        this.profitDataSource2 = new MatTableDataSource(this.profitData2);\n        this.profitDataSource2.paginator = this.paginator;\n        this.profitDataSource2.sort = this.sort;\n      });\n      console.log('Accommodation ID:', accommodationId);\n      console.log('Year:', year);\n    } else {\n      this.openSnackBar('Accommodation ID and Year are required.');\n    }\n  }\n  getAllReservationsByAccommodationId(accommodationId, callback) {\n    this.reservationService.getByAccommodationId(accommodationId).subscribe(reservations => {\n      if (reservations) {\n        this.accommodationReservations = reservations;\n        console.log(this.accommodationReservations);\n        callback();\n      }\n    }, error => {\n      console.error('Error getting reservations for accommodation:', error);\n    });\n  }\n  handleExport() {\n    const invoiceContentElement = document.getElementById('entire-page');\n    html2canvas(invoiceContentElement, {}).then(canvas => {\n      const imgData = canvas.toDataURL('image/png');\n      const pageWidth = 210;\n      const height = canvas.height * pageWidth / canvas.width;\n      const pdf = new jsPDF(\"p\", \"mm\", \"a4\");\n      pdf.addImage(imgData, 'PNG', 0, 0, pageWidth, height);\n      pdf.save('report.pdf');\n    });\n  }\n  static #_ = this.ɵfac = function OwnerReportComponent_Factory(t) {\n    return new (t || OwnerReportComponent)(i0.ɵɵdirectiveInject(i1.AccommodationService), i0.ɵɵdirectiveInject(i2.MatSnackBar), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.AccommodationDataService), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i6.AuthService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i7.UserService), i0.ɵɵdirectiveInject(i8.ReservationService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OwnerReportComponent,\n    selectors: [[\"app-owner-report\"]],\n    viewQuery: function OwnerReportComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 5);\n        i0.ɵɵviewQuery(MatSort, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n      }\n    },\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 73,\n    vars: 12,\n    consts: [[\"id\", \"entire-page\"], [3, \"formGroup\"], [1, \"data-container\", 2, \"text-align\", \"center\"], [1, \"register-header\"], [1, \"date-picker-container\"], [\"matInput\", \"\", \"formControlName\", \"startDate\", 3, \"matDatepicker\"], [\"matIconSuffix\", \"\", 3, \"for\"], [\"startPicker\", \"\"], [\"matInput\", \"\", \"formControlName\", \"endDate\", 3, \"matDatepicker\"], [\"endPicker\", \"\"], [\"mat-button\", \"\", 2, \"background-color\", \"#1e88e5\", \"color\", \"white\", \"margin-top\", \"4%\", 3, \"click\"], [\"mat-button\", \"\", 2, \"background-color\", \"#b11d12\", \"color\", \"white\", \"margin-top\", \"4%\", \"margin-left\", \"10px\", 3, \"click\"], [1, \"mat-elevation-z8\"], [2, \"margin-left\", \"10px\"], [\"mat-table\", \"\", 3, \"dataSource\"], [\"matColumnDef\", \"accommodationId\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"accName\"], [\"matColumnDef\", \"profit\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"appearance\", \"outline\"], [\"matInput\", \"\", \"placeholder\", \"Accommodation ID\", \"formControlName\", \"accommodationId\"], [\"matInput\", \"\", \"placeholder\", \"Year\", \"formControlName\", \"year\"], [\"matColumnDef\", \"month\"], [\"matColumnDef\", \"numOfReservations\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function OwnerReportComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1)(2, \"div\", 2)(3, \"h2\", 3);\n        i0.ɵɵtext(4, \"Start and end date for report\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4)(6, \"mat-form-field\")(7, \"mat-label\");\n        i0.ɵɵtext(8, \"Choose a start date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"input\", 5);\n        i0.ɵɵelementStart(10, \"mat-hint\");\n        i0.ɵɵtext(11, \"MM/DD/YYYY\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"mat-datepicker-toggle\", 6)(13, \"mat-datepicker\", null, 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"mat-form-field\")(16, \"mat-label\");\n        i0.ɵɵtext(17, \"Choose an end date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"input\", 8);\n        i0.ɵɵelementStart(19, \"mat-hint\");\n        i0.ɵɵtext(20, \"MM/DD/YYYY\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"mat-datepicker-toggle\", 6)(22, \"mat-datepicker\", null, 9);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function OwnerReportComponent_Template_button_click_24_listener() {\n          return ctx.generateReport1();\n        });\n        i0.ɵɵtext(25, \"Search\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function OwnerReportComponent_Template_button_click_26_listener() {\n          return ctx.handleExport();\n        });\n        i0.ɵɵtext(27, \"Download as pdf\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(28, \"div\", 12)(29, \"h2\", 13);\n        i0.ɵɵtext(30, \"Accommodation report 1\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"table\", 14);\n        i0.ɵɵelementContainerStart(32, 15);\n        i0.ɵɵtemplate(33, OwnerReportComponent_th_33_Template, 2, 0, \"th\", 16);\n        i0.ɵɵtemplate(34, OwnerReportComponent_td_34_Template, 2, 1, \"td\", 17);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(35, 18);\n        i0.ɵɵtemplate(36, OwnerReportComponent_th_36_Template, 2, 0, \"th\", 16);\n        i0.ɵɵtemplate(37, OwnerReportComponent_td_37_Template, 2, 1, \"td\", 17);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(38, 19);\n        i0.ɵɵtemplate(39, OwnerReportComponent_th_39_Template, 2, 0, \"th\", 16);\n        i0.ɵɵtemplate(40, OwnerReportComponent_td_40_Template, 3, 3, \"td\", 17);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(41, OwnerReportComponent_tr_41_Template, 1, 0, \"tr\", 20);\n        i0.ɵɵtemplate(42, OwnerReportComponent_tr_42_Template, 1, 0, \"tr\", 21);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(43, \"form\", 1)(44, \"div\", 2)(45, \"h2\", 3);\n        i0.ɵɵtext(46, \"Start and end date for report\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"mat-form-field\", 22)(48, \"mat-label\");\n        i0.ɵɵtext(49, \"Accommodation ID\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(50, \"input\", 23);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"mat-form-field\", 22)(52, \"mat-label\");\n        i0.ɵɵtext(53, \"Year\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(54, \"input\", 24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(55, \"br\");\n        i0.ɵɵelementStart(56, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function OwnerReportComponent_Template_button_click_56_listener() {\n          return ctx.generateReport2();\n        });\n        i0.ɵɵtext(57, \"Search\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(58, \"div\", 12)(59, \"h2\", 13);\n        i0.ɵɵtext(60, \"Accommodation report 2\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(61, \"table\", 14);\n        i0.ɵɵelementContainerStart(62, 25);\n        i0.ɵɵtemplate(63, OwnerReportComponent_th_63_Template, 2, 0, \"th\", 16);\n        i0.ɵɵtemplate(64, OwnerReportComponent_td_64_Template, 2, 1, \"td\", 17);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(65, 26);\n        i0.ɵɵtemplate(66, OwnerReportComponent_th_66_Template, 2, 0, \"th\", 16);\n        i0.ɵɵtemplate(67, OwnerReportComponent_td_67_Template, 2, 1, \"td\", 17);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(68, 19);\n        i0.ɵɵtemplate(69, OwnerReportComponent_th_69_Template, 2, 0, \"th\", 16);\n        i0.ɵɵtemplate(70, OwnerReportComponent_td_70_Template, 3, 3, \"td\", 17);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(71, OwnerReportComponent_tr_71_Template, 1, 0, \"tr\", 20);\n        i0.ɵɵtemplate(72, OwnerReportComponent_tr_72_Template, 1, 0, \"tr\", 21);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(14);\n        const _r1 = i0.ɵɵreference(23);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.setDatesForm);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"matDatepicker\", _r0);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"for\", _r0);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"matDatepicker\", _r1);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"for\", _r1);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"dataSource\", ctx.profitDataSource);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.profitColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.profitColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.reportForm2);\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"dataSource\", ctx.profitDataSource2);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.profitColumns2);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.profitColumns2);\n      }\n    },\n    dependencies: [MatTableModule, i9.MatTable, i9.MatHeaderCellDef, i9.MatHeaderRowDef, i9.MatColumnDef, i9.MatCellDef, i9.MatRowDef, i9.MatHeaderCell, i9.MatCell, i9.MatHeaderRow, i9.MatRow, CommonModule, i10.CurrencyPipe, MatFormFieldModule, i11.MatFormField, i11.MatLabel, i11.MatHint, i11.MatSuffix, MatInputModule, i12.MatInput, MatButtonModule, i13.MatButton, LayoutModule, ReactiveFormsModule, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName, MatDatepickerModule, i14.MatDatepicker, i14.MatDatepickerInput, i14.MatDatepickerToggle, MatNativeDateModule, MatSnackBarModule],\n    styles: [\"*[_ngcontent-%COMP%]{\\n    font-size: medium;\\n  }\\n  .register-header[_ngcontent-%COMP%] {\\n    color: #007bff; \\n    font-size: 24px;\\n    margin-bottom: 3%;\\n    margin-top: 5%;\\n  }\\n.date-picker-container[_ngcontent-%COMP%] {\\n    text-align: center;\\n    width: 70%;\\n    margin: 0 auto;  \\n    display: flex;\\n    justify-content: space-between;\\n    align-items: flex-end;\\n    gap: 1%; \\n    margin-bottom: 2%;\\n  }\\n  \\n  mat-form-field[_ngcontent-%COMP%] {\\n    flex: 1; \\n  }\\n\\n  .mat-elevation-z8[_ngcontent-%COMP%]{\\n    margin:auto;\\n    text-align:center;\\n    width: 80%;\\n    margin-top: 2%;\\n    padding:1%;\\n    box-shadow: none;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvb3duZXItcmVwb3J0L293bmVyLXJlcG9ydC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksaUJBQWlCO0VBQ25CO0VBQ0E7SUFDRSxjQUFjO0lBQ2QsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixjQUFjO0VBQ2hCO0FBQ0Y7SUFDSSxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLGNBQWM7SUFDZCxhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLHFCQUFxQjtJQUNyQixPQUFPO0lBQ1AsaUJBQWlCO0VBQ25COztFQUVBO0lBQ0UsT0FBTztFQUNUOztFQUVBO0lBQ0UsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixVQUFVO0lBQ1YsY0FBYztJQUNkLFVBQVU7SUFDVixnQkFBZ0I7QUFDcEIiLCJzb3VyY2VzQ29udGVudCI6WyIqe1xyXG4gICAgZm9udC1zaXplOiBtZWRpdW07XHJcbiAgfVxyXG4gIC5yZWdpc3Rlci1oZWFkZXIge1xyXG4gICAgY29sb3I6ICMwMDdiZmY7IFxyXG4gICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMyU7XHJcbiAgICBtYXJnaW4tdG9wOiA1JTtcclxuICB9XHJcbi5kYXRlLXBpY2tlci1jb250YWluZXIge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgd2lkdGg6IDcwJTtcclxuICAgIG1hcmdpbjogMCBhdXRvOyAgXHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xyXG4gICAgZ2FwOiAxJTsgXHJcbiAgICBtYXJnaW4tYm90dG9tOiAyJTtcclxuICB9XHJcbiAgXHJcbiAgbWF0LWZvcm0tZmllbGQge1xyXG4gICAgZmxleDogMTsgXHJcbiAgfVxyXG5cclxuICAubWF0LWVsZXZhdGlvbi16OHtcclxuICAgIG1hcmdpbjphdXRvO1xyXG4gICAgdGV4dC1hbGlnbjpjZW50ZXI7XHJcbiAgICB3aWR0aDogODAlO1xyXG4gICAgbWFyZ2luLXRvcDogMiU7XHJcbiAgICBwYWRkaW5nOjElO1xyXG4gICAgYm94LXNoYWRvdzogbm9uZTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["JwtHelperService","ReactiveFormsModule","Validators","MatPaginator","MatSnackBarModule","MatSort","CommonModule","MatInputModule","MatButtonModule","LayoutModule","MatDatepickerModule","MatNativeDateModule","MatFormFieldModule","ReservationStatusEnum","MatTableDataSource","MatTableModule","ProfitData","ProfitData2","html2canvas","jsPDF","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","row_r18","accommodationId","row_r19","name","ɵɵpipeBind1","row_r20","profit","ɵɵelement","ctx_r11","months","row_r22","month","row_r23","numOfReservations","row_r24","OwnerReportComponent","constructor","service","snackBar","fb","dataService","router","authService","cdr","userService","reservationService","accessToken","localStorage","getItem","helper","decodedToken","decodeToken","loggedInUserId","sub","accommodationList","ownerAccommodations","accommodationProfit","allReservations","accommodationReservations","numReservationsMonth","profitMonth","profitData","profitColumns","profitDataSource","profitData2","profitColumns2","profitDataSource2","setDatesForm","group","startDate","required","endDate","validators","dateValidator","reportForm2","pattern","min","asyncValidators","updateOn","year","ngOnInit","getAllApproved","subscribe","next","data","console","log","initOwnerAccs","paginator","sort","error","_","openSnackBar","message","open","duration","formGroup","get","value","setErrors","dateRange","Date","pastDate","a","ownerId","push","id","pd","validateDates","today","generateReport1","getAllReservations","r","reservationStartDate","timeSlot","reservationEndDate","accommodation","status","APPROVED","calculateTotalPrice","ret","daysBetween","price","priceType","toString","numberOfGuests","arrival","checkout","oneDayMilliseconds","arrivalTime","getTime","checkoutTime","timeDifference","daysDifference","Math","round","callback","getAll","reservations","generateReport2","undefined","isNaN","getAllReservationsByAccommodationId","splice","length","i","profitDataInstance","res","startYear","getFullYear","startMonth","getMonth","totalPrice","getByAccommodationId","handleExport","invoiceContentElement","document","getElementById","then","canvas","imgData","toDataURL","pageWidth","height","width","pdf","addImage","save","ɵɵdirectiveInject","i1","AccommodationService","i2","MatSnackBar","i3","FormBuilder","i4","AccommodationDataService","i5","Router","i6","AuthService","ChangeDetectorRef","i7","UserService","i8","ReservationService","_2","selectors","viewQuery","OwnerReportComponent_Query","rf","ctx","ɵɵlistener","OwnerReportComponent_Template_button_click_24_listener","OwnerReportComponent_Template_button_click_26_listener","ɵɵelementContainerStart","ɵɵtemplate","OwnerReportComponent_th_33_Template","OwnerReportComponent_td_34_Template","ɵɵelementContainerEnd","OwnerReportComponent_th_36_Template","OwnerReportComponent_td_37_Template","OwnerReportComponent_th_39_Template","OwnerReportComponent_td_40_Template","OwnerReportComponent_tr_41_Template","OwnerReportComponent_tr_42_Template","OwnerReportComponent_Template_button_click_56_listener","OwnerReportComponent_th_63_Template","OwnerReportComponent_td_64_Template","OwnerReportComponent_th_66_Template","OwnerReportComponent_td_67_Template","OwnerReportComponent_th_69_Template","OwnerReportComponent_td_70_Template","OwnerReportComponent_tr_71_Template","OwnerReportComponent_tr_72_Template","ɵɵproperty","_r0","_r1","i9","MatTable","MatHeaderCellDef","MatHeaderRowDef","MatColumnDef","MatCellDef","MatRowDef","MatHeaderCell","MatCell","MatHeaderRow","MatRow","i10","CurrencyPipe","i11","MatFormField","MatLabel","MatHint","MatSuffix","i12","MatInput","i13","MatButton","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","i14","MatDatepicker","MatDatepickerInput","MatDatepickerToggle","styles"],"sources":["C:\\Users\\USER\\Desktop\\Front-end\\ProjectApp\\src\\app\\owner-report\\owner-report.component.ts","C:\\Users\\USER\\Desktop\\Front-end\\ProjectApp\\src\\app\\owner-report\\owner-report.component.html"],"sourcesContent":["import { ChangeDetectorRef, Component, ViewChild } from '@angular/core';\r\nimport { JwtHelperService } from '@auth0/angular-jwt';\r\nimport { Accommodation } from '../accommodation/accommodation/model/accommodation.model';\r\nimport { User } from '../models/user.model';\r\nimport { RoleEnum } from '../models/userEnums.model';\r\nimport { FormBuilder, FormGroup, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSnackBar, MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { Router } from '@angular/router';\r\nimport { AccommodationDataService } from '../accommodation/accommodation-data.service.module';\r\nimport { AccommodationService } from '../accommodation/accommodation.service';\r\nimport { AuthService } from '../auth/auth.service';\r\nimport { UserService } from '../user.service';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { LayoutModule } from '../layout/layout.module';\r\nimport { MatDatepicker, MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { Reservation } from '../models/reservation/reservation.model';\r\nimport { ReservationService } from '../models/reservation/reservation.service';\r\nimport { ReservationStatusEnum } from '../models/enums/reservationStatusEnum';\r\nimport { PriceTypeEnum } from '../models/enums/priceTypeEnum';\r\nimport { MatTableDataSource, MatTableModule } from '@angular/material/table';\r\nimport { ProfitData } from './profitData.model';\r\nimport { ProfitData2 } from './profitData2.model';\r\nimport html2canvas from 'html2canvas';\r\nimport jsPDF from 'jspdf';\r\n\r\n@Component({\r\n  selector: 'app-owner-report',\r\n  templateUrl: './owner-report.component.html',\r\n  styleUrls: ['./owner-report.component.css'],\r\n  standalone:true,\r\n  imports:[MatTableModule,CommonModule,MatFormFieldModule, MatInputModule, MatButtonModule, LayoutModule,ReactiveFormsModule,MatDatepickerModule,MatButtonModule,MatNativeDateModule,MatSnackBarModule]\r\n})\r\nexport class OwnerReportComponent {\r\n  accessToken: any = localStorage.getItem('user');\r\n  helper = new JwtHelperService();\r\n  decodedToken = this.helper.decodeToken(this.accessToken);\r\n  loggedInUserId=this.decodedToken.sub;\r\n  role: RoleEnum ;\r\n  wholeUser:User;\r\n\r\n  accommodationList: Accommodation[] = []\r\n  ownerAccommodations:Accommodation[] = []\r\n  accommodationProfit: { [key: number]: number } = {};\r\n  allReservations:Reservation[] = [];\r\n\r\n  accommodationReservations:Reservation[]=[]\r\n  numReservationsMonth: number[]=[0,0,0,0,0,0,0,0,0,0,0,0];\r\n  profitMonth: number[]=[0,0,0,0,0,0,0,0,0,0,0,0];\r\n\r\n  profitData: ProfitData[]=[]\r\n  profitColumns: string[] = ['accommodationId','accName' ,'profit'];\r\n  profitDataSource=new MatTableDataSource<ProfitData>([])\r\n\r\n  profitData2: ProfitData2[]=[]\r\n  profitColumns2:string[] = ['month', 'numOfReservations','profit']\r\n  profitDataSource2=new MatTableDataSource<ProfitData2>([])\r\n\r\n  months:string[]=['January','February','March','April','May','June','July','August','September','October','November','December']\r\n\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  @ViewChild(MatSort) sort: MatSort;\r\n  constructor(private service: AccommodationService, private snackBar:MatSnackBar, private fb: FormBuilder,\r\n    private dataService: AccommodationDataService,private router: Router,\r\n    private authService: AuthService,private cdr: ChangeDetectorRef,\r\n    private userService:UserService, private reservationService:ReservationService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.service.getAllApproved().subscribe({\r\n      next: (data: Accommodation[]) => {\r\n       this.accommodationList = data\r\n       console.log(this.accommodationList)\r\n       console.log(this.loggedInUserId)\r\n       this.initOwnerAccs()\r\n       console.log(this.ownerAccommodations)\r\n       console.log(this.accommodationProfit)\r\n       this.profitDataSource=new MatTableDataSource<ProfitData>(this.profitData)\r\n       this.profitDataSource.paginator=this.paginator;\r\n       this.profitDataSource.sort=this.sort;\r\n\r\n       this.profitDataSource2=new MatTableDataSource<ProfitData2>(this.profitData2)\r\n       this.profitDataSource2.paginator=this.paginator\r\n       this.profitDataSource2.sort=this.sort\r\n      },\r\n     error: (_) => {console.log(\"Greska!\")}\r\n    })\r\n    \r\n  }\r\n  setDatesForm=this.fb.group({\r\n    startDate: [null, Validators.required],\r\n    endDate: [null, Validators.required]\r\n  },{validators:this.dateValidator});\r\n  reportForm2 = this.fb.group({\r\n    accommodationId: [0, {\r\n      validators: [Validators.required, Validators.pattern('^[0-9]+$'), Validators.min(0)],\r\n      asyncValidators: [],\r\n      updateOn: 'blur',\r\n    }],\r\n    year: [0, {\r\n      validators: [Validators.required, Validators.pattern('^[0-9]+$'), Validators.min(0)],\r\n      asyncValidators: [], \r\n      updateOn: 'blur', \r\n    }],\r\n  });\r\n  openSnackBar(message: string) {\r\n    this.snackBar.open(message, 'OK', {\r\n      duration: 3000,\r\n    });\r\n  }\r\n  dateValidator(formGroup: FormGroup) {\r\n    const startDate = formGroup.get('startDate')?.value;\r\n    const endDate = formGroup.get('endDate')?.value;\r\n\r\n    if (startDate && endDate && startDate >= endDate) {\r\n      formGroup.get('endDate')?.setErrors({ dateRange: true });\r\n    } else {\r\n      formGroup.get('endDate')?.setErrors(null);\r\n    }\r\n\r\n    if (startDate && endDate && startDate < new Date()) {\r\n      formGroup.get('startDate')?.setErrors({ pastDate: true });\r\n    } else {\r\n      formGroup.get('startDate')?.setErrors(null);\r\n    }\r\n\r\n    if (endDate && endDate < new Date()) {\r\n      formGroup.get('endDate')?.setErrors({ pastDate: true });\r\n    } else {\r\n      formGroup.get('endDate')?.setErrors(null);\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  initOwnerAccs(){\r\n    for(const a of this.accommodationList){\r\n      if(a.ownerId==this.loggedInUserId){\r\n        this.ownerAccommodations.push(a)\r\n        if(a.id){\r\n          this.accommodationProfit[a.id] = 0;\r\n          let pd:ProfitData = new ProfitData(a.id,a.name,0);\r\n          this.profitData.push(pd)\r\n        }\r\n        \r\n      }\r\n    }\r\n  }\r\n  validateDates():boolean{\r\n    const startDate:Date = this.setDatesForm.value.startDate;\r\n    const endDate:Date = this.setDatesForm.value.endDate;\r\n    const today=new Date()\r\n    if(startDate==null || endDate==null){\r\n      this.openSnackBar('Must enter both dates');\r\n      return false\r\n    }\r\n    if (startDate >= endDate) {\r\n      this.openSnackBar('Start date must be before end date.');\r\n      return false;\r\n    }\r\n    \r\n    return true\r\n  }\r\n  generateReport1(){\r\n    if(!this.validateDates())\r\n      return\r\n\r\n    for(const pd of this.profitData){\r\n      pd.profit=0;\r\n    }\r\n    const startDate:Date = this.setDatesForm.value.startDate;\r\n    const endDate:Date = this.setDatesForm.value.endDate;\r\n    this.getAllReservations(() => {\r\n      console.log(this.allReservations);\r\n      for (const r of this.allReservations) {\r\n        const reservationStartDate = new Date(r.timeSlot.startDate);\r\n        const reservationEndDate = new Date(r.timeSlot.endDate);\r\n      \r\n        if (r.accommodation.id && r.status === ReservationStatusEnum.APPROVED && \r\n          reservationStartDate >= startDate && \r\n          reservationEndDate <= endDate &&\r\n          r.accommodation.id in this.accommodationProfit\r\n        ) {\r\n          this.accommodationProfit[r.accommodation.id] += this.calculateTotalPrice(r);\r\n          for(const pd of this.profitData){\r\n            if(pd.accommodationId==r.accommodation.id){\r\n              pd.profit+=this.calculateTotalPrice(r)\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n    console.log(this.accommodationProfit)\r\n    console.log(this.profitData)\r\n    this.profitDataSource=new MatTableDataSource<ProfitData>(this.profitData)\r\n    this.profitDataSource.paginator=this.paginator;\r\n    this.profitDataSource.sort=this.sort;\r\n  }\r\n  calculateTotalPrice(r:Reservation):number{\r\n    let ret=this.daysBetween(r.timeSlot.startDate,r.timeSlot.endDate)*r.price;\r\n    if(r.priceType.toString()===\"PERGUEST\"){\r\n      console.log(\"USAOOOOOOOOOO\")\r\n      ret=ret*r.numberOfGuests;\r\n    }\r\n    return ret;\r\n  }\r\n  daysBetween(arrival:Date, checkout:Date):number{\r\n    const oneDayMilliseconds = 24 * 60 * 60 * 1000;\r\n    const arrivalTime = new Date(arrival).getTime();\r\n    const checkoutTime = new Date(checkout).getTime();\r\n\r\n    const timeDifference = checkoutTime - arrivalTime;\r\n    const daysDifference = Math.round(timeDifference / oneDayMilliseconds);\r\n\r\n    return daysDifference;\r\n  }\r\n  getAllReservations(callback: () => void){\r\n    this.reservationService.getAll().subscribe(\r\n      (reservations: Reservation[]|undefined)=>{\r\n        if(reservations){\r\n          this.allReservations=reservations;\r\n          console.log(this.allReservations)\r\n          callback()\r\n        }\r\n      }\r\n    )\r\n  }\r\n  generateReport2() {\r\n    const accommodationId = this.reportForm2.get('accommodationId')?.value;\r\n    const year = this.reportForm2.get('year')?.value;\r\n    if (accommodationId !== null && year !== null && accommodationId!==undefined && year!==undefined) {\r\n      if (isNaN(accommodationId) || isNaN(year)) {\r\n        this.openSnackBar('Accommodation ID and Year must be numbers.');\r\n        return;\r\n      }\r\n      let a=false\r\n      for(const pd of this.profitData){\r\n        if(pd.accommodationId==accommodationId)\r\n          a=true\r\n      }\r\n      if(!a){\r\n        this.openSnackBar('Invalid accommodation!')\r\n        return\r\n      }\r\n      this.getAllReservationsByAccommodationId(accommodationId, () => {\r\n        this.profitMonth=[0,0,0,0,0,0,0,0,0,0,0,0]\r\n        this.numReservationsMonth=[0,0,0,0,0,0,0,0,0,0,0,0]\r\n        this.profitData2.splice(0,this.profitData2.length)\r\n        for (let i = 0; i < 12; i++) {\r\n          const profitDataInstance = new ProfitData2(i, 0, 0);\r\n          this.profitData2.push(profitDataInstance);\r\n      }\r\n        console.log(this.accommodationReservations);\r\n        for(const res of this.accommodationReservations){\r\n          const startDate=new Date(res.timeSlot.startDate)\r\n          console.log(startDate)\r\n          const startYear=startDate.getFullYear()\r\n          const startMonth=startDate.getMonth()\r\n          if(res.status===ReservationStatusEnum.APPROVED && startYear==year){\r\n            const totalPrice=this.calculateTotalPrice(res)\r\n            this.profitMonth[startMonth]+=totalPrice;\r\n            this.numReservationsMonth[startMonth]+=1;\r\n\r\n            this.profitData2[startMonth].numOfReservations+=1\r\n            this.profitData2[startMonth].profit+=totalPrice\r\n          }\r\n        }\r\n        console.log(this.profitMonth)\r\n        console.log(this.numReservationsMonth)\r\n        console.log(this.profitData2)\r\n        this.profitDataSource2=new MatTableDataSource<ProfitData2>(this.profitData2)\r\n        this.profitDataSource2.paginator=this.paginator\r\n        this.profitDataSource2.sort=this.sort\r\n      });\r\n\r\n      console.log('Accommodation ID:', accommodationId);\r\n      console.log('Year:', year);\r\n\r\n    } else {\r\n      this.openSnackBar('Accommodation ID and Year are required.');\r\n    }\r\n  }\r\n  getAllReservationsByAccommodationId(accommodationId:number,callback: () => void){\r\n    this.reservationService.getByAccommodationId(accommodationId).subscribe(\r\n      (reservations: Reservation[]|undefined) => {\r\n        if(reservations){\r\n        this.accommodationReservations = reservations;\r\n        \r\n        console.log(this.accommodationReservations);\r\n        callback()\r\n        }\r\n      },\r\n      (error) => {\r\n        console.error('Error getting reservations for accommodation:', error);\r\n      }\r\n    );\r\n  }\r\n  handleExport(){\r\n    const invoiceContentElement=document.getElementById('entire-page') as HTMLElement;\r\n    html2canvas(invoiceContentElement,{}).then(canvas=>{\r\n      const imgData=canvas.toDataURL('image/png');\r\n\r\n      const pageWidth=210;\r\n\r\n      const height=canvas.height*pageWidth/canvas.width;\r\n\r\n      const pdf=new jsPDF(\"p\",\"mm\",\"a4\");\r\n      pdf.addImage(imgData,'PNG',0,0,pageWidth,height);\r\n\r\n      pdf.save('report.pdf');\r\n    })\r\n  }\r\n}\r\n","<div id=\"entire-page\">\r\n<form [formGroup]=\"setDatesForm\">\r\n    <div class=\"data-container\" style=\"text-align: center;\">\r\n      <h2 class=\"register-header\">Start and end date for report</h2>\r\n  \r\n      <div class=\"date-picker-container\">\r\n        <mat-form-field>\r\n          <mat-label>Choose a start date</mat-label>\r\n          <input matInput [matDatepicker]=\"startPicker\" formControlName=\"startDate\">\r\n          <mat-hint>MM/DD/YYYY</mat-hint>\r\n          <mat-datepicker-toggle matIconSuffix [for]=\"startPicker\"></mat-datepicker-toggle>\r\n          <mat-datepicker #startPicker></mat-datepicker>\r\n        </mat-form-field>\r\n      \r\n        <mat-form-field>\r\n          <mat-label>Choose an end date</mat-label>\r\n          <input matInput [matDatepicker]=\"endPicker\" formControlName=\"endDate\">\r\n          <mat-hint>MM/DD/YYYY</mat-hint>\r\n          <mat-datepicker-toggle matIconSuffix [for]=\"endPicker\"></mat-datepicker-toggle>\r\n          <mat-datepicker #endPicker></mat-datepicker>\r\n        </mat-form-field>\r\n      </div>\r\n  \r\n      <button (click)=\"generateReport1()\" mat-button style=\"background-color: #1e88e5; color: white; margin-top: 4%;\">Search</button>\r\n      <button (click)=\"handleExport()\" mat-button style=\"background-color: #b11d12; color: white; margin-top: 4%; margin-left: 10px;\">Download as pdf</button>\r\n\r\n    </div>\r\n  </form>\r\n\r\n<div class=\"mat-elevation-z8\">\r\n    <h2 style=\"margin-left: 10px;\">Accommodation report 1</h2>\r\n    <table mat-table [dataSource]=\"profitDataSource\">\r\n        <!-- Accommodation ID Column -->\r\n        <ng-container matColumnDef=\"accommodationId\">\r\n          <th mat-header-cell *matHeaderCellDef>Accommodation ID</th>\r\n          <td mat-cell *matCellDef=\"let row\">{{ row.accommodationId }}</td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"accName\">\r\n            <th mat-header-cell *matHeaderCellDef>Accommodation Name</th>\r\n            <td mat-cell *matCellDef=\"let row\">{{ row.name }}</td>\r\n          </ng-container>\r\n  \r\n        <!-- Profit Column -->\r\n        <ng-container matColumnDef=\"profit\">\r\n          <th mat-header-cell *matHeaderCellDef>Profit</th>\r\n          <td mat-cell *matCellDef=\"let row\">{{ row.profit | currency }}</td>\r\n        </ng-container>\r\n  \r\n        <tr mat-header-row *matHeaderRowDef=\"profitColumns\"></tr>\r\n        <tr mat-row *matRowDef=\"let row; columns: profitColumns;\"></tr>\r\n      </table>\r\n</div>\r\n\r\n<form [formGroup]=\"reportForm2\">\r\n    <div class=\"data-container\" style=\"text-align: center;\">\r\n      <h2 class=\"register-header\">Start and end date for report</h2>\r\n  \r\n      <mat-form-field appearance=\"outline\">\r\n        <mat-label>Accommodation ID</mat-label>\r\n        <input matInput placeholder=\"Accommodation ID\" formControlName=\"accommodationId\">\r\n      </mat-form-field>\r\n\r\n      <mat-form-field appearance=\"outline\">\r\n        <mat-label>Year</mat-label>\r\n        <input matInput placeholder=\"Year\" formControlName=\"year\">\r\n      </mat-form-field>\r\n      <br>\r\n      <button (click)=\"generateReport2()\" mat-button style=\"background-color: #1e88e5; color: white;margin-top: 4%;\">Search</button>\r\n    </div>\r\n  </form>\r\n\r\n  <div class=\"mat-elevation-z8\">\r\n    <h2 style=\"margin-left: 10px;\">Accommodation report 2</h2>\r\n    <table mat-table [dataSource]=\"profitDataSource2\">\r\n        <!-- Accommodation ID Column -->\r\n        <ng-container matColumnDef=\"month\">\r\n          <th mat-header-cell *matHeaderCellDef>Month of the year</th>\r\n          <td mat-cell *matCellDef=\"let row\">{{ this.months[row.month] }}</td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"numOfReservations\">\r\n            <th mat-header-cell *matHeaderCellDef>Num of reservations</th>\r\n            <td mat-cell *matCellDef=\"let row\">{{ row.numOfReservations }}</td>\r\n          </ng-container>\r\n  \r\n        <!-- Profit Column -->\r\n        <ng-container matColumnDef=\"profit\">\r\n          <th mat-header-cell *matHeaderCellDef>Profit</th>\r\n          <td mat-cell *matCellDef=\"let row\">{{ row.profit | currency }}</td>\r\n        </ng-container>\r\n  \r\n        <tr mat-header-row *matHeaderRowDef=\"profitColumns2\"></tr>\r\n        <tr mat-row *matRowDef=\"let row; columns: profitColumns2;\"></tr>\r\n      </table>\r\n    </div>\r\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}